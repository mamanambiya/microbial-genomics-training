<!DOCTYPE html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Hands-on training course for microbial genomics and metagenomics in clinical and public health applications"><meta name="author" content="CIDRI-Africa"><link href="https://cidri-africa.github.io/microbial-genomics-training/modules/day6/" rel="canonical"><link href="../day5/" rel="prev"><link href="../day7/" rel="next"><link rel="icon" href="../../assets/favicon.png"><meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18"><title>Day 6 - Nextflow Pipeline Development &amp; Version Control with GitHub - Microbial Genomics &amp; Metagenomics Training Course</title><link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css"><link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel="stylesheet" href="../../stylesheets/extra.css"><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",""),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"><script src="../../assets/javascripts/glightbox.min.js"></script><style id="glightbox-style">
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color); }
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color); }
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color); }
        </style></head> <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="amber"> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a href="#day-6-nextflow-foundations-core-concepts" class="md-skip"> Skip to content </a> </div> <div data-md-component="announce"> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component="header"> <nav class="md-header__inner md-grid" aria-label="Header"> <a href="../.." title="Microbial Genomics &amp; Metagenomics Training Course" class="md-header__button md-logo" aria-label="Microbial Genomics &amp; Metagenomics Training Course" data-md-component="logo"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 2h2v2c0 1.44.68 2.61 1.88 3.78.86.83 2.01 1.63 3.21 2.42l-1.83 1.19C8.27 10.72 7.31 10 6.5 9.21 5.07 7.82 4 6.1 4 4zm14 0h2v2c0 2.1-1.07 3.82-2.5 5.21-1.41 1.38-3.21 2.52-4.96 3.63-1.75 1.12-3.45 2.21-4.66 3.38C6.68 17.39 6 18.56 6 20v2H4v-2c0-2.1 1.07-3.82 2.5-5.21 1.41-1.38 3.21-2.52 4.96-3.63 1.75-1.12 3.45-2.21 4.66-3.38C17.32 6.61 18 5.44 18 4zm-3.26 10.61c.99.67 1.95 1.39 2.76 2.18C18.93 16.18 20 17.9 20 20v2h-2v-2c0-1.44-.68-2.61-1.88-3.78-.86-.83-2.01-1.63-3.21-2.42zM7 3h10v1l-.06.5H7.06L7 4zm.68 3h8.64c-.24.34-.52.69-.9 1.06l-.51.44H9.07l-.49-.44c-.38-.37-.66-.72-.9-1.06m1.41 10.5h5.84l.49.44c.38.37.66.72.9 1.06H7.68c.24-.34.52-.69.9-1.06zm-2.03 3h9.88l.06.5v1H7v-1z"></path></svg> </a> <label class="md-header__button md-icon" for="__drawer"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> Microbial Genomics &amp; Metagenomics Training Course </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> Day 6 - Nextflow Pipeline Development &amp; Version Control with GitHub </span> </div> </div> </div> <form class="md-header__option" data-md-component="palette"> <input class="md-option" data-md-color-media data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="amber" aria-label="Switch to dark mode" type="radio" name="__palette" id="__palette_0"> <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> <input class="md-option" data-md-color-media data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="amber" aria-label="Switch to light mode" type="radio" name="__palette" id="__palette_1"> <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required> <label class="md-search__icon md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav class="md-search__options" aria-label="Search"> <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text data-md-component="search-share" tabindex="-1"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg> </a> <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> <div class="md-search__suggest" data-md-component="search-suggest"></div> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> Initializing search </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> <div class="md-header__source"> <a href="https://github.com/CIDRI-Africa/microbial-genomics-training" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class="md-source__repository"> CIDRI-Africa/microbial-genomics-training </div> </a> </div> </nav> <nav class="md-tabs" aria-label="Tabs" data-md-component="tabs"> <div class="md-grid"> <ul class="md-tabs__list"> <li class="md-tabs__item"> <a href="../.." class="md-tabs__link"> Home </a> </li> <li class="md-tabs__item"> <a href="../../course/overview/" class="md-tabs__link"> Course Information </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href="../day1/" class="md-tabs__link"> Daily Modules </a> </li> <li class="md-tabs__item"> <a href="../../datasets/" class="md-tabs__link"> Resources </a> </li> </ul> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a href="../.." title="Microbial Genomics &amp; Metagenomics Training Course" class="md-nav__button md-logo" aria-label="Microbial Genomics &amp; Metagenomics Training Course" data-md-component="logo"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 2h2v2c0 1.44.68 2.61 1.88 3.78.86.83 2.01 1.63 3.21 2.42l-1.83 1.19C8.27 10.72 7.31 10 6.5 9.21 5.07 7.82 4 6.1 4 4zm14 0h2v2c0 2.1-1.07 3.82-2.5 5.21-1.41 1.38-3.21 2.52-4.96 3.63-1.75 1.12-3.45 2.21-4.66 3.38C6.68 17.39 6 18.56 6 20v2H4v-2c0-2.1 1.07-3.82 2.5-5.21 1.41-1.38 3.21-2.52 4.96-3.63 1.75-1.12 3.45-2.21 4.66-3.38C17.32 6.61 18 5.44 18 4zm-3.26 10.61c.99.67 1.95 1.39 2.76 2.18C18.93 16.18 20 17.9 20 20v2h-2v-2c0-1.44-.68-2.61-1.88-3.78-.86-.83-2.01-1.63-3.21-2.42zM7 3h10v1l-.06.5H7.06L7 4zm.68 3h8.64c-.24.34-.52.69-.9 1.06l-.51.44H9.07l-.49-.44c-.38-.37-.66-.72-.9-1.06m1.41 10.5h5.84l.49.44c.38.37.66.72.9 1.06H7.68c.24-.34.52-.69.9-1.06zm-2.03 3h9.88l.06.5v1H7v-1z"></path></svg> </a> Microbial Genomics &amp; Metagenomics Training Course </label> <div class="md-nav__source"> <a href="https://github.com/CIDRI-Africa/microbial-genomics-training" title="Go to repository" class="md-source" data-md-component="source"> <div class="md-source__icon md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </div> <div class="md-source__repository"> CIDRI-Africa/microbial-genomics-training </div> </a> </div> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../.." class="md-nav__link"> <span class="md-ellipsis"> Home </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href="../../course/overview/" class="md-nav__link"> <span class="md-ellipsis"> Course Information </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked> <div class="md-nav__link md-nav__container"> <a href="../day1/" class="md-nav__link "> <span class="md-ellipsis"> Daily Modules </span> </a> <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true"> <label class="md-nav__title" for="__nav_3"> <span class="md-nav__icon md-icon"></span> Daily Modules </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item"> <a href="../day2/" class="md-nav__link"> <span class="md-ellipsis"> Day 2 - Introduction to Commandline, High Performance Computing, &amp; Quality Control </span> </a> </li> <li class="md-nav__item"> <a href="../day3/" class="md-nav__link"> <span class="md-ellipsis"> Day 3 - Genomic Characterization </span> </a> </li> <li class="md-nav__item"> <a href="../day4/" class="md-nav__link"> <span class="md-ellipsis"> Day 4 - Genomic Characterization </span> </a> </li> <li class="md-nav__item"> <a href="../day5/" class="md-nav__link"> <span class="md-ellipsis"> Day 5 - Nextflow Pipeline Development </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc"> <label class="md-nav__link md-nav__link--active" for="__toc"> <span class="md-ellipsis"> Day 6 - Nextflow Pipeline Development &amp; Version Control with GitHub </span> <span class="md-nav__icon md-icon"></span> </label> <a href="./" class="md-nav__link md-nav__link--active"> <span class="md-ellipsis"> Day 6 - Nextflow Pipeline Development &amp; Version Control with GitHub </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#learning-philosophy-see-it-understand-it-try-it-build-it-master-it" class="md-nav__link"> <span class="md-ellipsis"> Learning Philosophy: See it → Understand it → Try it → Build it → Master it </span> </a> </li> <li class="md-nav__item"> <a href="#overview" class="md-nav__link"> <span class="md-ellipsis"> Overview </span> </a> </li> <li class="md-nav__item"> <a href="#learning-objectives" class="md-nav__link"> <span class="md-ellipsis"> Learning Objectives </span> </a> </li> <li class="md-nav__item"> <a href="#schedule" class="md-nav__link"> <span class="md-ellipsis"> Schedule </span> </a> </li> <li class="md-nav__item"> <a href="#key-topics" class="md-nav__link"> <span class="md-ellipsis"> Key Topics </span> </a> <nav class="md-nav" aria-label="Key Topics"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#1-foundation-review-30-minutes" class="md-nav__link"> <span class="md-ellipsis"> 1. Foundation Review (30 minutes) </span> </a> </li> <li class="md-nav__item"> <a href="#2-introduction-to-workflow-management-45-minutes" class="md-nav__link"> <span class="md-ellipsis"> 2. Introduction to Workflow Management (45 minutes) </span> </a> </li> <li class="md-nav__item"> <a href="#3-nextflow-core-concepts-75-minutes" class="md-nav__link"> <span class="md-ellipsis"> 3. Nextflow Core Concepts (75 minutes) </span> </a> </li> <li class="md-nav__item"> <a href="#4-hands-on-pipeline-development-75-minutes" class="md-nav__link"> <span class="md-ellipsis"> 4. Hands-on Pipeline Development (75 minutes) </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#tools-and-software" class="md-nav__link"> <span class="md-ellipsis"> Tools and Software </span> </a> <nav class="md-nav" aria-label="Tools and Software"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#core-requirements" class="md-nav__link"> <span class="md-ellipsis"> Core Requirements </span> </a> </li> <li class="md-nav__item"> <a href="#bioinformatics-tools" class="md-nav__link"> <span class="md-ellipsis"> Bioinformatics Tools </span> </a> </li> <li class="md-nav__item"> <a href="#development-environment" class="md-nav__link"> <span class="md-ellipsis"> Development Environment </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#part-1-the-challenge-of-complex-genomics-analyses" class="md-nav__link"> <span class="md-ellipsis"> Part 1: The Challenge of Complex Genomics Analyses </span> </a> <nav class="md-nav" aria-label="Part 1: The Challenge of Complex Genomics Analyses"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#why-workflow-management-matters" class="md-nav__link"> <span class="md-ellipsis"> Why Workflow Management Matters </span> </a> </li> <li class="md-nav__item"> <a href="#why-this-approach-is-tedious-and-error-prone" class="md-nav__link"> <span class="md-ellipsis"> Why This Approach is "Tedious and Error-Prone" </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#the-workflow-management-solution" class="md-nav__link"> <span class="md-ellipsis"> The Workflow Management Solution </span> </a> <nav class="md-nav" aria-label="The Workflow Management Solution"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#overview-of-workflow-management-systems" class="md-nav__link"> <span class="md-ellipsis"> Overview of Workflow Management Systems </span> </a> <nav class="md-nav" aria-label="Overview of Workflow Management Systems"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#how-workflow-management-systems-solve-traditional-problems" class="md-nav__link"> <span class="md-ellipsis"> How Workflow Management Systems Solve Traditional Problems: </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#comparison-of-popular-workflow-languages" class="md-nav__link"> <span class="md-ellipsis"> Comparison of Popular Workflow Languages </span> </a> <nav class="md-nav" aria-label="Comparison of Popular Workflow Languages"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#1-nextflow" class="md-nav__link"> <span class="md-ellipsis"> 1. Nextflow </span> </a> </li> <li class="md-nav__item"> <a href="#2-snakemake" class="md-nav__link"> <span class="md-ellipsis"> 2. Snakemake </span> </a> </li> <li class="md-nav__item"> <a href="#3-common-workflow-language-cwl" class="md-nav__link"> <span class="md-ellipsis"> 3. Common Workflow Language (CWL) </span> </a> </li> <li class="md-nav__item"> <a href="#4-workflow-description-language-wdl" class="md-nav__link"> <span class="md-ellipsis"> 4. Workflow Description Language (WDL) </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#feature-comparison-table" class="md-nav__link"> <span class="md-ellipsis"> Feature Comparison Table </span> </a> </li> <li class="md-nav__item"> <a href="#simple-code-examples" class="md-nav__link"> <span class="md-ellipsis"> Simple Code Examples </span> </a> <nav class="md-nav" aria-label="Simple Code Examples"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#traditional-shell-script-for-comparison" class="md-nav__link"> <span class="md-ellipsis"> Traditional Shell Script (for comparison) </span> </a> </li> <li class="md-nav__item"> <a href="#nextflow-implementation" class="md-nav__link"> <span class="md-ellipsis"> Nextflow Implementation </span> </a> </li> <li class="md-nav__item"> <a href="#snakemake-implementation" class="md-nav__link"> <span class="md-ellipsis"> Snakemake Implementation </span> </a> </li> <li class="md-nav__item"> <a href="#cwl-implementation" class="md-nav__link"> <span class="md-ellipsis"> CWL Implementation </span> </a> </li> <li class="md-nav__item"> <a href="#key-differences-in-syntax" class="md-nav__link"> <span class="md-ellipsis"> Key Differences in Syntax: </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#why-nextflow-for-this-course" class="md-nav__link"> <span class="md-ellipsis"> Why Nextflow for This Course </span> </a> <nav class="md-nav" aria-label="Why Nextflow for This Course"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#1-bioinformatics-community-adoption" class="md-nav__link"> <span class="md-ellipsis"> 1. Bioinformatics Community Adoption </span> </a> </li> <li class="md-nav__item"> <a href="#2-excellent-parallelization-for-genomics" class="md-nav__link"> <span class="md-ellipsis"> 2. Excellent Parallelization for Genomics </span> </a> </li> <li class="md-nav__item"> <a href="#3-clinical-and-production-ready" class="md-nav__link"> <span class="md-ellipsis"> 3. Clinical and Production Ready </span> </a> </li> <li class="md-nav__item"> <a href="#4-multi-platform-flexibility" class="md-nav__link"> <span class="md-ellipsis"> 4. Multi-Platform Flexibility </span> </a> </li> <li class="md-nav__item"> <a href="#5-microbial-genomics-specific-advantages" class="md-nav__link"> <span class="md-ellipsis"> 5. Microbial Genomics Specific Advantages </span> </a> </li> <li class="md-nav__item"> <a href="#6-learning-and-career-benefits" class="md-nav__link"> <span class="md-ellipsis"> 6. Learning and Career Benefits </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#visual-guide-understanding-workflow-management" class="md-nav__link"> <span class="md-ellipsis"> Visual Guide: Understanding Workflow Management </span> </a> <nav class="md-nav" aria-label="Visual Guide: Understanding Workflow Management"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#the-big-picture-traditional-vs-modern-approaches" class="md-nav__link"> <span class="md-ellipsis"> The Big Picture: Traditional vs Modern Approaches </span> </a> <nav class="md-nav" aria-label="The Big Picture: Traditional vs Modern Approaches"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#traditional-shell-scripting-the-slow-way" class="md-nav__link"> <span class="md-ellipsis"> Traditional Shell Scripting - The Slow Way </span> </a> </li> <li class="md-nav__item"> <a href="#nextflow-the-fast-way" class="md-nav__link"> <span class="md-ellipsis"> Nextflow - The Fast Way </span> </a> </li> <li class="md-nav__item"> <a href="#the-dramatic-difference" class="md-nav__link"> <span class="md-ellipsis"> The Dramatic Difference </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#nextflow-fundamentals" class="md-nav__link"> <span class="md-ellipsis"> Nextflow Fundamentals </span> </a> <nav class="md-nav" aria-label="Nextflow Fundamentals"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#what-is-nextflow" class="md-nav__link"> <span class="md-ellipsis"> What is Nextflow? </span> </a> </li> <li class="md-nav__item"> <a href="#core-nextflow-features" class="md-nav__link"> <span class="md-ellipsis"> Core Nextflow Features </span> </a> </li> <li class="md-nav__item"> <a href="#the-three-building-blocks" class="md-nav__link"> <span class="md-ellipsis"> The Three Building Blocks </span> </a> <nav class="md-nav" aria-label="The Three Building Blocks"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#1-processes-what-to-do" class="md-nav__link"> <span class="md-ellipsis"> 1. Processes - What to do </span> </a> </li> <li class="md-nav__item"> <a href="#2-channels-how-data-flows" class="md-nav__link"> <span class="md-ellipsis"> 2. Channels - How data flows </span> </a> </li> <li class="md-nav__item"> <a href="#3-workflows-how-it-all-connects" class="md-nav__link"> <span class="md-ellipsis"> 3. Workflows - How it all connects </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#understanding-processes-channels-and-workflows" class="md-nav__link"> <span class="md-ellipsis"> Understanding Processes, Channels, and Workflows </span> </a> <nav class="md-nav" aria-label="Understanding Processes, Channels, and Workflows"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#processes-in-detail" class="md-nav__link"> <span class="md-ellipsis"> Processes in Detail </span> </a> </li> <li class="md-nav__item"> <a href="#channels-in-detail" class="md-nav__link"> <span class="md-ellipsis"> Channels in Detail </span> </a> </li> <li class="md-nav__item"> <a href="#workflows-in-detail" class="md-nav__link"> <span class="md-ellipsis"> Workflows in Detail </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#how-nextflow-executes-your-workflow" class="md-nav__link"> <span class="md-ellipsis"> How Nextflow Executes Your Workflow </span> </a> </li> <li class="md-nav__item"> <a href="#your-first-nextflow-script" class="md-nav__link"> <span class="md-ellipsis"> Your First Nextflow Script </span> </a> </li> <li class="md-nav__item"> <a href="#workflow-execution-and-executors" class="md-nav__link"> <span class="md-ellipsis"> Workflow Execution and Executors </span> </a> <nav class="md-nav" aria-label="Workflow Execution and Executors"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#executors-where-your-workflow-runs" class="md-nav__link"> <span class="md-ellipsis"> Executors: Where Your Workflow Runs </span> </a> </li> <li class="md-nav__item"> <a href="#how-to-choose-execution-platform" class="md-nav__link"> <span class="md-ellipsis"> How to Choose Execution Platform </span> </a> </li> <li class="md-nav__item"> <a href="#resource-management" class="md-nav__link"> <span class="md-ellipsis"> Resource Management </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#quick-recap-key-concepts" class="md-nav__link"> <span class="md-ellipsis"> Quick Recap: Key Concepts </span> </a> </li> <li class="md-nav__item"> <a href="#understanding-nextflow-output-organization" class="md-nav__link"> <span class="md-ellipsis"> Understanding Nextflow Output Organization </span> </a> <nav class="md-nav" aria-label="Understanding Nextflow Output Organization"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#nextflow-directory-structure" class="md-nav__link"> <span class="md-ellipsis"> Nextflow Directory Structure </span> </a> </li> <li class="md-nav__item"> <a href="#practical-navigation-commands" class="md-nav__link"> <span class="md-ellipsis"> Practical Navigation Commands </span> </a> </li> <li class="md-nav__item"> <a href="#understanding-publishdir-vs-work-directory" class="md-nav__link"> <span class="md-ellipsis"> Understanding publishDir vs work Directory </span> </a> </li> <li class="md-nav__item"> <a href="#common-directory-issues-and-solutions" class="md-nav__link"> <span class="md-ellipsis"> Common Directory Issues and Solutions </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#your-first-genomics-pipeline" class="md-nav__link"> <span class="md-ellipsis"> Your First Genomics Pipeline </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#beginner-friendly-practical-exercises" class="md-nav__link"> <span class="md-ellipsis"> Beginner-Friendly Practical Exercises </span> </a> <nav class="md-nav" aria-label="Beginner-Friendly Practical Exercises"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#exercise-1-your-first-nextflow-script-15-minutes" class="md-nav__link"> <span class="md-ellipsis"> Exercise 1: Your First Nextflow Script (15 minutes) </span> </a> </li> <li class="md-nav__item"> <a href="#exercise-2-adding-real-bioinformatics-30-minutes" class="md-nav__link"> <span class="md-ellipsis"> Exercise 2: Adding Real Bioinformatics (30 minutes) </span> </a> </li> <li class="md-nav__item"> <a href="#exercise-3-quality-control-pipeline-45-minutes" class="md-nav__link"> <span class="md-ellipsis"> Exercise 3: Quality Control Pipeline (45 minutes) </span> </a> <nav class="md-nav" aria-label="Exercise 3: Quality Control Pipeline (45 minutes)"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#understanding-your-exercise-results" class="md-nav__link"> <span class="md-ellipsis"> Understanding Your Exercise Results </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#interactive-learning-checklist" class="md-nav__link"> <span class="md-ellipsis"> Interactive Learning Checklist </span> </a> <nav class="md-nav" aria-label="Interactive Learning Checklist"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#before-you-start-setup-checklist" class="md-nav__link"> <span class="md-ellipsis"> Before You Start - Setup Checklist </span> </a> </li> <li class="md-nav__item"> <a href="#your-first-pipeline-step-by-step" class="md-nav__link"> <span class="md-ellipsis"> Your First Pipeline - Step by Step </span> </a> </li> <li class="md-nav__item"> <a href="#understanding-your-results" class="md-nav__link"> <span class="md-ellipsis"> Understanding Your Results </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#common-beginner-questions-solutions" class="md-nav__link"> <span class="md-ellipsis"> Common Beginner Questions &amp; Solutions </span> </a> <nav class="md-nav" aria-label="Common Beginner Questions &amp; Solutions"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#my-pipeline-failed-what-do-i-do" class="md-nav__link"> <span class="md-ellipsis"> "My pipeline failed - what do I do?" </span> </a> </li> <li class="md-nav__item"> <a href="#how-do-i-know-if-my-pipeline-is-working" class="md-nav__link"> <span class="md-ellipsis"> "How do I know if my pipeline is working?" </span> </a> </li> <li class="md-nav__item"> <a href="#how-do-i-modify-the-pipeline-for-my-data" class="md-nav__link"> <span class="md-ellipsis"> "How do I modify the pipeline for my data?" </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#next-steps-for-beginners" class="md-nav__link"> <span class="md-ellipsis"> Next Steps for Beginners </span> </a> <nav class="md-nav" aria-label="Next Steps for Beginners"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#once-youre-comfortable-with-basic-pipelines" class="md-nav__link"> <span class="md-ellipsis"> Once you're comfortable with basic pipelines: </span> </a> </li> <li class="md-nav__item"> <a href="#recommended-learning-path" class="md-nav__link"> <span class="md-ellipsis"> Recommended Learning Path: </span> </a> <nav class="md-nav" aria-label="Recommended Learning Path:"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#3-executors" class="md-nav__link"> <span class="md-ellipsis"> 3. Executors </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#core-nextflow-components" class="md-nav__link"> <span class="md-ellipsis"> Core Nextflow Components </span> </a> <nav class="md-nav" aria-label="Core Nextflow Components"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#process" class="md-nav__link"> <span class="md-ellipsis"> Process </span> </a> </li> <li class="md-nav__item"> <a href="#channel" class="md-nav__link"> <span class="md-ellipsis"> Channel </span> </a> </li> <li class="md-nav__item"> <a href="#workflow" class="md-nav__link"> <span class="md-ellipsis"> Workflow </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#part-3-hands-on-exercises" class="md-nav__link"> <span class="md-ellipsis"> Part 3: Hands-on Exercises </span> </a> <nav class="md-nav" aria-label="Part 3: Hands-on Exercises"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#exercise-1-installation-and-setup-15-minutes" class="md-nav__link"> <span class="md-ellipsis"> Exercise 1: Installation and Setup (15 minutes) </span> </a> </li> <li class="md-nav__item"> <a href="#exercise-2-your-first-nextflow-script-30-minutes" class="md-nav__link"> <span class="md-ellipsis"> Exercise 2: Your First Nextflow Script (30 minutes) </span> </a> </li> <li class="md-nav__item"> <a href="#exercise-3-understanding-channels-20-minutes" class="md-nav__link"> <span class="md-ellipsis"> Exercise 3: Understanding Channels (20 minutes) </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#key-concepts-summary" class="md-nav__link"> <span class="md-ellipsis"> Key Concepts Summary </span> </a> <nav class="md-nav" aria-label="Key Concepts Summary"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#nextflow-core-principles" class="md-nav__link"> <span class="md-ellipsis"> Nextflow Core Principles </span> </a> </li> <li class="md-nav__item"> <a href="#pipeline-development-best-practices" class="md-nav__link"> <span class="md-ellipsis"> Pipeline Development Best Practices </span> </a> </li> <li class="md-nav__item"> <a href="#nextflow-workflow-patterns" class="md-nav__link"> <span class="md-ellipsis"> Nextflow Workflow Patterns </span> </a> </li> <li class="md-nav__item"> <a href="#configuration-best-practices" class="md-nav__link"> <span class="md-ellipsis"> Configuration Best Practices </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#assessment-activities" class="md-nav__link"> <span class="md-ellipsis"> Assessment Activities </span> </a> <nav class="md-nav" aria-label="Assessment Activities"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#individual-tasks" class="md-nav__link"> <span class="md-ellipsis"> Individual Tasks </span> </a> </li> <li class="md-nav__item"> <a href="#group-discussion" class="md-nav__link"> <span class="md-ellipsis"> Group Discussion </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#resources" class="md-nav__link"> <span class="md-ellipsis"> Resources </span> </a> <nav class="md-nav" aria-label="Resources"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#nextflow-resources" class="md-nav__link"> <span class="md-ellipsis"> Nextflow Resources </span> </a> </li> <li class="md-nav__item"> <a href="#community-and-support" class="md-nav__link"> <span class="md-ellipsis"> Community and Support </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#looking-ahead" class="md-nav__link"> <span class="md-ellipsis"> Looking Ahead </span> </a> <nav class="md-nav" aria-label="Looking Ahead"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#professional-development" class="md-nav__link"> <span class="md-ellipsis"> Professional Development </span> </a> </li> <li class="md-nav__item"> <a href="#applied-genomics" class="md-nav__link"> <span class="md-ellipsis"> Applied Genomics </span> </a> </li> <li class="md-nav__item"> <a href="#advanced-nextflow" class="md-nav__link"> <span class="md-ellipsis"> Advanced Nextflow </span> </a> </li> <li class="md-nav__item"> <a href="#exercise-4-building-a-qc-process-30-minutes" class="md-nav__link"> <span class="md-ellipsis"> Exercise 4: Building a QC Process (30 minutes) </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="#troubleshooting-guide" class="md-nav__link"> <span class="md-ellipsis"> Troubleshooting Guide </span> </a> <nav class="md-nav" aria-label="Troubleshooting Guide"> <ul class="md-nav__list"> <li class="md-nav__item"> <a href="#installation-issues" class="md-nav__link"> <span class="md-ellipsis"> Installation Issues </span> </a> </li> <li class="md-nav__item"> <a href="#pipeline-debugging" class="md-nav__link"> <span class="md-ellipsis"> Pipeline Debugging </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="../day7/" class="md-nav__link"> <span class="md-ellipsis"> Day 7 - Metagenomic profiling </span> </a> </li> <li class="md-nav__item"> <a href="../day8/" class="md-nav__link"> <span class="md-ellipsis"> Day 8 - Comparative Genomics </span> </a> </li> <li class="md-nav__item"> <a href="../day9/" class="md-nav__link"> <span class="md-ellipsis"> Day 9 - Bring your own data </span> </a> </li> <li class="md-nav__item"> <a href="../day10/" class="md-nav__link"> <span class="md-ellipsis"> Day 10 - Wrap-up session </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href="../../datasets/" class="md-nav__link"> <span class="md-ellipsis"> Resources </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <a href="https://github.com/CIDRI-Africa/microbial-genomics-training/edit/master/docs/modules/day6/index.md" title="Edit this page" class="md-content__button md-icon" rel="edit"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg> </a> <a href="https://github.com/CIDRI-Africa/microbial-genomics-training/raw/master/docs/modules/day6/index.md" title="View source of this page" class="md-content__button md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"></path></svg> </a> <h1 id="day-6-nextflow-foundations-core-concepts">Day 6: Nextflow Foundations &amp; Core Concepts<a class="headerlink" href="#day-6-nextflow-foundations-core-concepts" title="Permanent link">¶</a></h1> <p><strong>Date</strong>: September 8, 2025 <strong>Duration</strong>: 09:00-13:00 CAT <strong>Focus</strong>: Introduction to workflow management, Nextflow fundamentals, and first pipelines</p> <h2 id="learning-philosophy-see-it-understand-it-try-it-build-it-master-it">Learning Philosophy: See it → Understand it → Try it → Build it → Master it<a class="headerlink" href="#learning-philosophy-see-it-understand-it-try-it-build-it-master-it" title="Permanent link">¶</a></h2> <p>This module follows a proven learning approach designed specifically for beginners:</p> <ul> <li><strong>See it</strong>: Visual diagrams and examples show you what workflows look like</li> <li><strong>Understand it</strong>: Clear explanations of why workflow management matters</li> <li><strong>Try it</strong>: Simple exercises to practice basic concepts</li> <li><strong>Build it</strong>: Create your own working pipeline step by step</li> <li><strong>Master it</strong>: Apply skills to real genomics problems with confidence</li> </ul> <p>Every section builds on the previous one, ensuring you develop solid foundations before moving to more complex topics.</p> <h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">¶</a></h2> <p>Day 6 introduces participants to workflow management systems and Nextflow fundamentals. This comprehensive session covers the theoretical foundations of reproducible workflows, core Nextflow concepts, and hands-on development of basic pipelines. Participants will understand why workflow management is crucial for bioinformatics and gain practical experience with Nextflow's core components.</p> <h2 id="learning-objectives">Learning Objectives<a class="headerlink" href="#learning-objectives" title="Permanent link">¶</a></h2> <p>By the end of Day 6, you will be able to:</p> <ul> <li>Understand the challenges in bioinformatics reproducibility and benefits of workflow management systems</li> <li>Explain Nextflow's core features and architecture</li> <li>Identify the main components of a Nextflow script (processes, channels, workflows)</li> <li>Write and execute basic Nextflow processes and workflows</li> <li>Use channels to manage data flow between processes</li> <li>Configure Nextflow for different execution environments</li> <li>Debug common Nextflow issues and understand error messages</li> <li>Apply best practices for pipeline development</li> </ul> <h2 id="schedule">Schedule<a class="headerlink" href="#schedule" title="Permanent link">¶</a></h2> <table> <thead> <tr> <th>Time (CAT)</th> <th>Topic</th> <th>Duration</th> <th>Trainer</th> </tr> </thead> <tbody> <tr> <td><strong>09:00</strong></td> <td><em>Foundation: Command line and Containers review</em></td> <td>30 min</td> <td>Mamana Mbiyavanga</td> </tr> <tr> <td><strong>09:30</strong></td> <td><em>Introduction to Workflow Management Systems</em></td> <td>45 min</td> <td>Mamana Mbiyavanga</td> </tr> <tr> <td><strong>10:15</strong></td> <td><em>Nextflow Basics: Core concepts and first pipelines</em></td> <td>75 min</td> <td>Mamana Mbiyavanga</td> </tr> <tr> <td><strong>11:30</strong></td> <td><strong>Break</strong></td> <td>15 min</td> <td></td> </tr> <tr> <td><strong>11:45</strong></td> <td><em>Hands-on: Building your first Nextflow pipeline</em></td> <td>75 min</td> <td>Mamana Mbiyavanga</td> </tr> </tbody> </table> <h2 id="key-topics">Key Topics<a class="headerlink" href="#key-topics" title="Permanent link">¶</a></h2> <h3 id="1-foundation-review-30-minutes">1. Foundation Review (30 minutes)<a class="headerlink" href="#1-foundation-review-30-minutes" title="Permanent link">¶</a></h3> <ul> <li>Command line proficiency check</li> <li>Container technologies (Docker/Singularity) overview</li> <li>Setting up the development environment</li> </ul> <h3 id="2-introduction-to-workflow-management-45-minutes">2. Introduction to Workflow Management (45 minutes)<a class="headerlink" href="#2-introduction-to-workflow-management-45-minutes" title="Permanent link">¶</a></h3> <ul> <li>The challenge of complex genomics analyses</li> <li>Problems with traditional scripting approaches</li> <li>Benefits of workflow management systems</li> <li>Nextflow vs other systems (Snakemake, CWL, WDL)</li> <li>Reproducibility, portability, and scalability</li> </ul> <h3 id="3-nextflow-core-concepts-75-minutes">3. Nextflow Core Concepts (75 minutes)<a class="headerlink" href="#3-nextflow-core-concepts-75-minutes" title="Permanent link">¶</a></h3> <ul> <li>Nextflow architecture and execution model</li> <li>Processes: encapsulated tasks with inputs, outputs, and scripts</li> <li>Channels: asynchronous data streams connecting processes</li> <li>Workflows: orchestrating process execution and data flow</li> <li>The work directory structure and caching mechanism</li> <li>Executors and execution platforms</li> </ul> <h3 id="4-hands-on-pipeline-development-75-minutes">4. Hands-on Pipeline Development (75 minutes)<a class="headerlink" href="#4-hands-on-pipeline-development-75-minutes" title="Permanent link">¶</a></h3> <ul> <li>Writing your first Nextflow process</li> <li>Creating channels and managing data flow</li> <li>Building a simple QC workflow</li> <li>Testing and debugging pipelines</li> <li>Understanding the work directory</li> </ul> <h2 id="tools-and-software">Tools and Software<a class="headerlink" href="#tools-and-software" title="Permanent link">¶</a></h2> <h3 id="core-requirements">Core Requirements<a class="headerlink" href="#core-requirements" title="Permanent link">¶</a></h3> <ul> <li><strong><a href="https://www.nextflow.io/">Nextflow</a></strong> (version 20.10.0 or later) - Workflow orchestration system</li> <li><strong><a href="https://openjdk.org/">Java</a></strong> (version 11 or later) - Required for Nextflow execution</li> <li><strong><a href="https://docs.docker.com/">Docker</a></strong> or <strong><a href="https://docs.sylabs.io/guides/latest/user-guide/">Singularity</a></strong> - Container platforms for reproducibility</li> <li><strong>Text editor</strong> - <a href="https://code.visualstudio.com/">VS Code</a> with <a href="https://marketplace.visualstudio.com/items?itemName=nextflow.nextflow">Nextflow extension</a> recommended</li> </ul> <h3 id="bioinformatics-tools">Bioinformatics Tools<a class="headerlink" href="#bioinformatics-tools" title="Permanent link">¶</a></h3> <ul> <li><strong><a href="https://www.bioinformatics.babraham.ac.uk/projects/fastqc/">FastQC</a></strong> - Read quality control assessment</li> <li><strong><a href="https://multiqc.info/">MultiQC</a></strong> - Aggregate quality control reports</li> <li><strong><a href="http://www.usadellab.org/cms/?page=trimmomatic">Trimmomatic</a></strong> - Read trimming and filtering</li> <li><strong><a href="https://cab.spbu.ru/software/spades/">SPAdes</a></strong> - Genome assembly (for later exercises)</li> </ul> <h3 id="development-environment">Development Environment<a class="headerlink" href="#development-environment" title="Permanent link">¶</a></h3> <ul> <li><strong>Terminal/Command line</strong> - For running Nextflow commands</li> <li><strong>Text editor</strong> - For writing pipeline scripts</li> </ul> <h2 id="part-1-the-challenge-of-complex-genomics-analyses">Part 1: The Challenge of Complex Genomics Analyses<a class="headerlink" href="#part-1-the-challenge-of-complex-genomics-analyses" title="Permanent link">¶</a></h2> <h3 id="why-workflow-management-matters">Why Workflow Management Matters<a class="headerlink" href="#why-workflow-management-matters" title="Permanent link">¶</a></h3> <p>Consider analyzing 100 bacterial genomes without workflow management:</p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># Manual approach - tedious and error-prone</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="k">for</span><span class="w"> </span>sample<span class="w"> </span><span class="k">in</span><span class="w"> </span>sample1<span class="w"> </span>sample2<span class="w"> </span>sample3<span class="w"> </span>...<span class="w"> </span>sample100<span class="p">;</span><span class="w"> </span><span class="k">do</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">    </span>fastqc<span class="w"> </span><span class="si">${</span><span class="nv">sample</span><span class="si">}</span>_R1.fastq<span class="w"> </span><span class="si">${</span><span class="nv">sample</span><span class="si">}</span>_R2.fastq
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">"FastQC failed"</span><span class="p">;</span><span class="w"> </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">fi</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">    </span>trimmomatic<span class="w"> </span>PE<span class="w"> </span><span class="si">${</span><span class="nv">sample</span><span class="si">}</span>_R1.fastq<span class="w"> </span><span class="si">${</span><span class="nv">sample</span><span class="si">}</span>_R2.fastq<span class="w"> </span><span class="se">\</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">        </span><span class="si">${</span><span class="nv">sample</span><span class="si">}</span>_R1_trimmed.fastq<span class="w"> </span><span class="si">${</span><span class="nv">sample</span><span class="si">}</span>_R1_unpaired.fastq<span class="w"> </span><span class="se">\</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">        </span><span class="si">${</span><span class="nv">sample</span><span class="si">}</span>_R2_trimmed.fastq<span class="w"> </span><span class="si">${</span><span class="nv">sample</span><span class="si">}</span>_R2_unpaired.fastq<span class="w"> </span><span class="se">\</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">        </span>SLIDINGWINDOW:4:20
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">"Trimming failed"</span><span class="p">;</span><span class="w"> </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">fi</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">    </span>spades.py<span class="w"> </span>-1<span class="w"> </span><span class="si">${</span><span class="nv">sample</span><span class="si">}</span>_R1_trimmed.fastq<span class="w"> </span>-2<span class="w"> </span><span class="si">${</span><span class="nv">sample</span><span class="si">}</span>_R2_trimmed.fastq<span class="w"> </span><span class="se">\</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">        </span>-o<span class="w"> </span><span class="si">${</span><span class="nv">sample</span><span class="si">}</span>_assembly
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">"Assembly failed"</span><span class="p">;</span><span class="w"> </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">fi</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="w">    </span><span class="c1"># What if step 3 fails for sample 67?</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="w">    </span><span class="c1"># How do you restart from where it failed?</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="w">    </span><span class="c1"># How do you run samples in parallel efficiently?</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="w">    </span><span class="c1"># How do you ensure reproducibility across different systems?</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a><span class="k">done</span>
</span></code></pre></div> <h3 id="why-this-approach-is-tedious-and-error-prone">Why This Approach is "Tedious and Error-Prone"<a class="headerlink" href="#why-this-approach-is-tedious-and-error-prone" title="Permanent link">¶</a></h3> <p><strong>Major Problems with Traditional Shell Scripting:</strong></p> <ol> <li><strong>No Parallelization</strong></li> <li>Processes samples sequentially (one after another)</li> <li>Wastes computational resources on multi-core systems</li> <li> <p>Takes unnecessarily long time</p> </li> <li> <p><strong>Poor Error Recovery &amp; Resumability</strong></p> </li> <li>If one sample fails, entire pipeline stops</li> <li>No way to resume from failure point</li> <li>Must restart from beginning</li> <li> <p>Manual error checking is verbose and error-prone</p> </li> <li> <p><strong>Resource Management Issues</strong></p> </li> <li>No control over CPU/memory usage</li> <li>Can overwhelm system or underutilize resources</li> <li>No queue management for HPC systems</li> <li> <p>No automatic optimization of resource allocation</p> </li> <li> <p><strong>Lack of Reproducibility</strong></p> </li> <li>Hard to track software versions</li> <li>Environment dependencies not managed</li> <li>Difficult to share and reproduce results across different systems</li> <li> <p>Software installation and version conflicts</p> </li> <li> <p><strong>Poor Scalability</strong></p> </li> <li>Doesn't scale well from laptop to HPC to cloud</li> <li>No automatic adaptation to different computing environments</li> <li> <p>Limited ability to handle varying data volumes</p> </li> <li> <p><strong>Maintenance Nightmare</strong></p> </li> <li>Adding new steps requires modifying the entire script</li> <li>Parameter changes need manual editing throughout</li> <li>No modular design for reusable components</li> <li> <p>Difficult to test individual components</p> </li> <li> <p><strong>No Progress Tracking</strong></p> </li> <li>Can't easily see which samples completed</li> <li>No reporting or logging mechanisms</li> <li>Difficult to debug failures</li> <li>No visibility into pipeline performance</li> </ol> <h2 id="the-workflow-management-solution">The Workflow Management Solution<a class="headerlink" href="#the-workflow-management-solution" title="Permanent link">¶</a></h2> <h3 id="overview-of-workflow-management-systems">Overview of Workflow Management Systems<a class="headerlink" href="#overview-of-workflow-management-systems" title="Permanent link">¶</a></h3> <p><strong>Workflow management systems (WMS)</strong> are specialized programming languages and frameworks designed specifically to address the challenges of complex, multi-step computational pipelines. They provide a higher-level abstraction that automatically handles the tedious and error-prone aspects of traditional shell scripting.</p> <h4 id="how-workflow-management-systems-solve-traditional-problems">How Workflow Management Systems Solve Traditional Problems:<a class="headerlink" href="#how-workflow-management-systems-solve-traditional-problems" title="Permanent link">¶</a></h4> <p><strong>Automatic Parallelization</strong> - Analyze task dependencies and run independent steps simultaneously - Efficiently utilize all available CPU cores and computing nodes - Scale from single machines to massive HPC clusters and cloud environments</p> <p><strong>Built-in Error Recovery</strong> - Automatic retry mechanisms for failed tasks - Resume functionality to restart from failure points - Intelligent caching to avoid re-running successful steps</p> <p><strong>Resource Management</strong> - Automatic CPU and memory allocation based on task requirements - Integration with job schedulers (<a href="https://slurm.schedmd.com/documentation.html">SLURM</a>, <a href="https://www.openpbs.org/">PBS</a>, <a href="https://gridscheduler.sourceforge.net/">SGE</a>) - Dynamic scaling in cloud environments</p> <p><strong>Reproducibility by Design</strong> - Container integration (Docker, Singularity) for consistent environments - Version tracking for all software dependencies - Portable execution across different computing platforms</p> <p><strong>Progress Monitoring</strong> - Real-time pipeline execution tracking - Detailed logging and reporting - Performance metrics and resource usage statistics</p> <p><strong>Modular Architecture</strong> - Reusable workflow components - Easy parameter configuration - Clean separation of logic and execution</p> <h3 id="comparison-of-popular-workflow-languages">Comparison of Popular Workflow Languages<a class="headerlink" href="#comparison-of-popular-workflow-languages" title="Permanent link">¶</a></h3> <p>The bioinformatics community has developed several powerful workflow management systems, each with unique strengths and design philosophies:</p> <h4 id="1-nextflow">1. <strong><a href="https://www.nextflow.io/">Nextflow</a></strong><a class="headerlink" href="#1-nextflow" title="Permanent link">¶</a></h4> <ul> <li><strong>Language Base</strong>: <a href="https://groovy-lang.org/">Groovy</a> (JVM-based)</li> <li><strong>Philosophy</strong>: Dataflow programming with reactive streams</li> <li><strong>Strengths</strong>: Excellent parallelization, cloud-native, strong container support</li> <li><strong>Community</strong>: Large bioinformatics community, <a href="https://nf-co.re/">nf-core</a> ecosystem</li> </ul> <h4 id="2-snakemake">2. <strong><a href="https://snakemake.readthedocs.io/">Snakemake</a></strong><a class="headerlink" href="#2-snakemake" title="Permanent link">¶</a></h4> <ul> <li><strong>Language Base</strong>: <a href="https://www.python.org/">Python</a></li> <li><strong>Philosophy</strong>: Rule-based workflow definition inspired by <a href="https://www.gnu.org/software/make/">GNU Make</a></li> <li><strong>Strengths</strong>: Pythonic syntax, excellent for Python developers, strong academic adoption</li> <li><strong>Community</strong>: Very active in computational biology and data science</li> </ul> <h4 id="3-common-workflow-language-cwl">3. <strong><a href="https://www.commonwl.org/">Common Workflow Language (CWL)</a></strong><a class="headerlink" href="#3-common-workflow-language-cwl" title="Permanent link">¶</a></h4> <ul> <li><strong>Language Base</strong>: <a href="https://yaml.org/">YAML</a>/<a href="https://www.json.org/">JSON</a></li> <li><strong>Philosophy</strong>: Vendor-neutral, standards-based approach</li> <li><strong>Strengths</strong>: Platform independence, strong metadata support, scientific reproducibility focus</li> <li><strong>Community</strong>: Broad industry and academic support across multiple domains</li> </ul> <h4 id="4-workflow-description-language-wdl">4. <strong><a href="https://openwdl.org/">Workflow Description Language (WDL)</a></strong><a class="headerlink" href="#4-workflow-description-language-wdl" title="Permanent link">¶</a></h4> <ul> <li><strong>Language Base</strong>: Custom domain-specific language</li> <li><strong>Philosophy</strong>: Human-readable workflow descriptions with strong typing</li> <li><strong>Strengths</strong>: Excellent cloud integration, strong at <a href="https://www.broadinstitute.org/">Broad Institute</a> and genomics centers</li> <li><strong>Community</strong>: Strong in genomics, particularly for large-scale sequencing projects</li> </ul> <h3 id="feature-comparison-table">Feature Comparison Table<a class="headerlink" href="#feature-comparison-table" title="Permanent link">¶</a></h3> <table> <thead> <tr> <th>Feature</th> <th>Nextflow</th> <th>Snakemake</th> <th>CWL</th> <th>WDL</th> </tr> </thead> <tbody> <tr> <td><strong>Syntax Base</strong></td> <td>Groovy</td> <td>Python</td> <td>YAML/JSON</td> <td>Custom DSL</td> </tr> <tr> <td><strong>Learning Curve</strong></td> <td>Moderate</td> <td>Easy (for Python users)</td> <td>Steep</td> <td>Moderate</td> </tr> <tr> <td><strong>Parallelization</strong></td> <td>Excellent (automatic)</td> <td>Excellent</td> <td>Good</td> <td>Excellent</td> </tr> <tr> <td><strong>Container Support</strong></td> <td>Native (Docker/Singularity)</td> <td>Native</td> <td>Native</td> <td>Native</td> </tr> <tr> <td><strong>Cloud Integration</strong></td> <td>Excellent (AWS, GCP, Azure)</td> <td>Good</td> <td>Good</td> <td>Excellent</td> </tr> <tr> <td><strong>HPC Support</strong></td> <td>Excellent (<a href="https://slurm.schedmd.com/documentation.html">SLURM</a>, <a href="https://www.openpbs.org/">PBS</a>, etc.)</td> <td>Excellent</td> <td>Good</td> <td>Good</td> </tr> <tr> <td><strong>Resume Capability</strong></td> <td>Excellent</td> <td>Excellent</td> <td>Limited</td> <td>Good</td> </tr> <tr> <td><strong>Community Size</strong></td> <td>Large (bioinformatics)</td> <td>Large (data science)</td> <td>Medium</td> <td>Medium</td> </tr> <tr> <td><strong>Package Ecosystem</strong></td> <td><a href="https://nf-co.re/">nf-core</a> (500+ pipelines)</td> <td><a href="https://snakemake-wrappers.readthedocs.io/">Snakemake Wrappers</a></td> <td>Limited</td> <td>Limited</td> </tr> <tr> <td><strong>Debugging Tools</strong></td> <td>Good (Tower, reports)</td> <td>Excellent</td> <td>Limited</td> <td>Good</td> </tr> <tr> <td><strong>Best Use Cases</strong></td> <td>Multi-omics, clinical pipelines</td> <td>Data analysis, research</td> <td>Standards compliance</td> <td>Large-scale genomics</td> </tr> <tr> <td><strong>Industry Adoption</strong></td> <td>High (pharma, biotech)</td> <td>High (academia)</td> <td>Growing</td> <td>High (genomics centers)</td> </tr> </tbody> </table> <h3 id="simple-code-examples">Simple Code Examples<a class="headerlink" href="#simple-code-examples" title="Permanent link">¶</a></h3> <p>Let's see how the same basic task - running FastQC on multiple samples - would be implemented in different workflow languages:</p> <h4 id="traditional-shell-script-for-comparison"><strong>Traditional Shell Script</strong> (for comparison)<a class="headerlink" href="#traditional-shell-script-for-comparison" title="Permanent link">¶</a></h4> <div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># Manual approach - sequential processing</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="k">for</span><span class="w"> </span>sample<span class="w"> </span><span class="k">in</span><span class="w"> </span>sample1<span class="w"> </span>sample2<span class="w"> </span>sample3<span class="p">;</span><span class="w"> </span><span class="k">do</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span>fastqc<span class="w"> </span><span class="si">${</span><span class="nv">sample</span><span class="si">}</span>_R1.fastq<span class="w"> </span><span class="si">${</span><span class="nv">sample</span><span class="si">}</span>_R2.fastq<span class="w"> </span>-o<span class="w"> </span>results/
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="nv">$?</span><span class="w"> </span>-ne<span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span><span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">"FastQC failed for </span><span class="nv">$sample</span><span class="s2">"</span><span class="p">;</span><span class="w"> </span><span class="nb">exit</span><span class="w"> </span><span class="m">1</span><span class="p">;</span><span class="w"> </span><span class="k">fi</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="k">done</span>
</span></code></pre></div> <h4 id="nextflow-implementation"><strong>Nextflow Implementation</strong><a class="headerlink" href="#nextflow-implementation" title="Permanent link">¶</a></h4> <div class="language-groovy highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="cp">#!/usr/bin/env nextflow</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="c1">// Define input channel</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="n">Channel</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">    </span><span class="o">.</span><span class="na">fromFilePairs</span><span class="o">(</span><span class="s2">"data/*_{R1,R2}.fastq"</span><span class="o">)</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">    </span><span class="o">.</span><span class="na">set</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">read_pairs_ch</span><span class="w"> </span><span class="o">}</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="c1">// FastQC process</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="n">process</span><span class="w"> </span><span class="n">fastqc</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">    </span><span class="n">container</span><span class="w"> </span><span class="s1">'biocontainers/fastqc:v0.11.9'</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="w">    </span><span class="n">publishDir</span><span class="w"> </span><span class="s1">'results/'</span><span class="o">,</span><span class="w"> </span><span class="nl">mode:</span><span class="w"> </span><span class="s1">'copy'</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="w">    </span><span class="nl">input:</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="n">reads</span><span class="o">)</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="w">    </span><span class="nl">output:</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="s2">"*_fastqc.{zip,html}"</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="w">    </span><span class="nl">script:</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="w">    </span><span class="s2">"""</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="s2">    fastqc ${reads} -t ${task.cpus}</span>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="s2">    """</span>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="o">}</span>
</span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a>
</span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a><span class="c1">// Run the workflow</span>
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-2-27"><a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a><span class="w">    </span><span class="n">fastqc</span><span class="o">(</span><span class="n">read_pairs_ch</span><span class="o">)</span>
</span><span id="__span-2-28"><a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a><span class="o">}</span>
</span></code></pre></div> <h4 id="snakemake-implementation"><strong>Snakemake Implementation</strong><a class="headerlink" href="#snakemake-implementation" title="Permanent link">¶</a></h4> <div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1"># Snakefile</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="n">SAMPLES</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"sample1"</span><span class="p">,</span> <span class="s2">"sample2"</span><span class="p">,</span> <span class="s2">"sample3"</span><span class="p">]</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="n">rule</span> <span class="nb">all</span><span class="p">:</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>    <span class="nb">input</span><span class="p">:</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>        <span class="n">expand</span><span class="p">(</span><span class="s2">"results/</span><span class="si">{sample}</span><span class="s2">_</span><span class="si">{read}</span><span class="s2">_fastqc.html"</span><span class="p">,</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>               <span class="n">sample</span><span class="o">=</span><span class="n">SAMPLES</span><span class="p">,</span> <span class="n">read</span><span class="o">=</span><span class="p">[</span><span class="s2">"R1"</span><span class="p">,</span> <span class="s2">"R2"</span><span class="p">])</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="n">rule</span> <span class="n">fastqc</span><span class="p">:</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>    <span class="nb">input</span><span class="p">:</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>        <span class="s2">"data/</span><span class="si">{sample}</span><span class="s2">_</span><span class="si">{read}</span><span class="s2">.fastq"</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>    <span class="n">output</span><span class="p">:</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>        <span class="n">html</span><span class="o">=</span><span class="s2">"results/</span><span class="si">{sample}</span><span class="s2">_</span><span class="si">{read}</span><span class="s2">_fastqc.html"</span><span class="p">,</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>        <span class="nb">zip</span><span class="o">=</span><span class="s2">"results/</span><span class="si">{sample}</span><span class="s2">_</span><span class="si">{read}</span><span class="s2">_fastqc.zip"</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>    <span class="n">container</span><span class="p">:</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>        <span class="s2">"docker://biocontainers/fastqc:v0.11.9"</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>    <span class="n">shell</span><span class="p">:</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>        <span class="s2">"fastqc </span><span class="si">{input}</span><span class="s2"> -o results/"</span>
</span></code></pre></div> <h4 id="cwl-implementation"><strong>CWL Implementation</strong><a class="headerlink" href="#cwl-implementation" title="Permanent link">¶</a></h4> <div class="language-yaml highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1"># fastqc-workflow.cwl</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="nt">cwlVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1.2</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Workflow</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="nt">inputs</span><span class="p">:</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">  </span><span class="nt">fastq_files</span><span class="p">:</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">File[]</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="nt">outputs</span><span class="p">:</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">  </span><span class="nt">fastqc_reports</span><span class="p">:</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">File[]</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">    </span><span class="nt">outputSource</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fastqc/html_report</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="nt">steps</span><span class="p">:</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="w">  </span><span class="nt">fastqc</span><span class="p">:</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fastqc-tool.cwl</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="w">    </span><span class="nt">scatter</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fastq_file</span>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="w">    </span><span class="nt">in</span><span class="p">:</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="w">      </span><span class="nt">fastq_file</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fastq_files</span>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="w">    </span><span class="nt">out</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">html_report</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">zip_report</span><span class="p p-Indicator">]</span>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a>
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a><span class="c1"># fastqc-tool.cwl</span>
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a><span class="nt">cwlVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1.2</span>
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CommandLineTool</span>
</span><span id="__span-4-25"><a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a>
</span><span id="__span-4-26"><a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a><span class="nt">baseCommand</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fastqc</span>
</span><span id="__span-4-27"><a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a>
</span><span id="__span-4-28"><a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a><span class="nt">inputs</span><span class="p">:</span>
</span><span id="__span-4-29"><a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a><span class="w">  </span><span class="nt">fastq_file</span><span class="p">:</span>
</span><span id="__span-4-30"><a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">File</span>
</span><span id="__span-4-31"><a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a><span class="w">    </span><span class="nt">inputBinding</span><span class="p">:</span>
</span><span id="__span-4-32"><a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a><span class="w">      </span><span class="nt">position</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
</span><span id="__span-4-33"><a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a>
</span><span id="__span-4-34"><a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a><span class="nt">outputs</span><span class="p">:</span>
</span><span id="__span-4-35"><a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a><span class="w">  </span><span class="nt">html_report</span><span class="p">:</span>
</span><span id="__span-4-36"><a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">File</span>
</span><span id="__span-4-37"><a id="__codelineno-4-37" name="__codelineno-4-37" href="#__codelineno-4-37"></a><span class="w">    </span><span class="nt">outputBinding</span><span class="p">:</span>
</span><span id="__span-4-38"><a id="__codelineno-4-38" name="__codelineno-4-38" href="#__codelineno-4-38"></a><span class="w">      </span><span class="nt">glob</span><span class="p">:</span><span class="w"> </span><span class="s">"*_fastqc.html"</span>
</span><span id="__span-4-39"><a id="__codelineno-4-39" name="__codelineno-4-39" href="#__codelineno-4-39"></a><span class="w">  </span><span class="nt">zip_report</span><span class="p">:</span>
</span><span id="__span-4-40"><a id="__codelineno-4-40" name="__codelineno-4-40" href="#__codelineno-4-40"></a><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">File</span>
</span><span id="__span-4-41"><a id="__codelineno-4-41" name="__codelineno-4-41" href="#__codelineno-4-41"></a><span class="w">    </span><span class="nt">outputBinding</span><span class="p">:</span>
</span><span id="__span-4-42"><a id="__codelineno-4-42" name="__codelineno-4-42" href="#__codelineno-4-42"></a><span class="w">      </span><span class="nt">glob</span><span class="p">:</span><span class="w"> </span><span class="s">"*_fastqc.zip"</span>
</span><span id="__span-4-43"><a id="__codelineno-4-43" name="__codelineno-4-43" href="#__codelineno-4-43"></a>
</span><span id="__span-4-44"><a id="__codelineno-4-44" name="__codelineno-4-44" href="#__codelineno-4-44"></a><span class="nt">requirements</span><span class="p">:</span>
</span><span id="__span-4-45"><a id="__codelineno-4-45" name="__codelineno-4-45" href="#__codelineno-4-45"></a><span class="w">  </span><span class="nt">DockerRequirement</span><span class="p">:</span>
</span><span id="__span-4-46"><a id="__codelineno-4-46" name="__codelineno-4-46" href="#__codelineno-4-46"></a><span class="w">    </span><span class="nt">dockerPull</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">biocontainers/fastqc:v0.11.9</span>
</span></code></pre></div> <h4 id="key-differences-in-syntax"><strong>Key Differences in Syntax:</strong><a class="headerlink" href="#key-differences-in-syntax" title="Permanent link">¶</a></h4> <p><strong>Nextflow</strong>: Uses Groovy syntax with channels for data flow, processes define computational steps <strong>Snakemake</strong>: Python-based with rules that define input/output relationships, uses wildcards for pattern matching <strong>CWL</strong>: YAML-based with explicit input/output definitions, requires separate tool and workflow files <strong>WDL</strong>: Custom syntax with strong typing, task-based approach with explicit variable declarations</p> <h3 id="why-nextflow-for-this-course">Why Nextflow for This Course<a class="headerlink" href="#why-nextflow-for-this-course" title="Permanent link">¶</a></h3> <p>This course focuses on <strong>Nextflow</strong> for several compelling reasons that make it particularly well-suited for microbial genomics workflows:</p> <h4 id="1-bioinformatics-community-adoption"><strong>1. Bioinformatics Community Adoption</strong><a class="headerlink" href="#1-bioinformatics-community-adoption" title="Permanent link">¶</a></h4> <ul> <li><strong><a href="https://nf-co.re/">nf-core</a> ecosystem</strong>: Over 500 community-curated pipelines specifically for bioinformatics</li> <li><strong>Industry standard</strong>: Widely adopted by pharmaceutical companies, biotech firms, and genomics centers</li> <li><strong>Active development</strong>: Strong community support with regular updates and improvements</li> </ul> <h4 id="2-excellent-parallelization-for-genomics"><strong>2. Excellent Parallelization for Genomics</strong><a class="headerlink" href="#2-excellent-parallelization-for-genomics" title="Permanent link">¶</a></h4> <ul> <li><strong>Automatic scaling</strong>: Seamlessly scales from single samples to thousands of genomes</li> <li><strong>Dataflow programming</strong>: Natural fit for genomics pipelines with complex dependencies</li> <li><strong>Resource optimization</strong>: Intelligent task scheduling maximizes computational efficiency</li> </ul> <h4 id="3-clinical-and-production-ready"><strong>3. Clinical and Production Ready</strong><a class="headerlink" href="#3-clinical-and-production-ready" title="Permanent link">¶</a></h4> <ul> <li><strong>Robust error handling</strong>: Critical for clinical pipelines where reliability is essential</li> <li><strong>Comprehensive logging</strong>: Detailed audit trails required for regulatory compliance</li> <li><strong>Resume capability</strong>: Minimizes computational waste in long-running genomic analyses</li> </ul> <h4 id="4-multi-platform-flexibility"><strong>4. Multi-Platform Flexibility</strong><a class="headerlink" href="#4-multi-platform-flexibility" title="Permanent link">¶</a></h4> <ul> <li><strong>HPC integration</strong>: Native support for <a href="https://slurm.schedmd.com/documentation.html">SLURM</a>, <a href="https://www.openpbs.org/">PBS</a>, and other job schedulers common in genomics</li> <li><strong>Cloud-native</strong>: Excellent support for <a href="https://aws.amazon.com/">AWS</a>, <a href="https://cloud.google.com/">Google Cloud</a>, and <a href="https://azure.microsoft.com/">Azure</a> for scalable genomics</li> <li><strong>Container support</strong>: Seamless <a href="https://docs.docker.com/">Docker</a> and <a href="https://docs.sylabs.io/guides/latest/user-guide/">Singularity</a> integration for reproducible environments</li> </ul> <h4 id="5-microbial-genomics-specific-advantages"><strong>5. Microbial Genomics Specific Advantages</strong><a class="headerlink" href="#5-microbial-genomics-specific-advantages" title="Permanent link">¶</a></h4> <ul> <li><strong>Pathogen surveillance pipelines</strong>: Many <a href="https://nf-co.re/">nf-core</a> pipelines designed for bacterial genomics</li> <li><strong>AMR analysis workflows</strong>: Established patterns for antimicrobial resistance detection</li> <li><strong>Outbreak investigation</strong>: Scalable phylogenetic analysis capabilities</li> <li><strong>Metagenomics support</strong>: Robust handling of complex metagenomic datasets</li> </ul> <h4 id="6-learning-and-career-benefits"><strong>6. Learning and Career Benefits</strong><a class="headerlink" href="#6-learning-and-career-benefits" title="Permanent link">¶</a></h4> <ul> <li><strong>Industry relevance</strong>: Skills directly transferable to genomics industry positions</li> <li><strong>Growing demand</strong>: Increasing adoption means more job opportunities</li> <li><strong>Comprehensive ecosystem</strong>: Learning <a href="https://www.nextflow.io/">Nextflow</a> provides access to hundreds of ready-to-use pipelines</li> </ul> <p>The combination of these factors makes Nextflow an ideal choice for training the next generation of microbial genomics researchers and practitioners. Its balance of power, usability, and industry adoption ensures that skills learned in this course will be immediately applicable in real-world genomics applications.</p> <h2 id="visual-guide-understanding-workflow-management">Visual Guide: Understanding Workflow Management<a class="headerlink" href="#visual-guide-understanding-workflow-management" title="Permanent link">¶</a></h2> <h3 id="the-big-picture-traditional-vs-modern-approaches">The Big Picture: Traditional vs Modern Approaches<a class="headerlink" href="#the-big-picture-traditional-vs-modern-approaches" title="Permanent link">¶</a></h3> <p>To understand why workflow management systems like Nextflow are revolutionary, let's visualize the <strong>time difference</strong>:</p> <h4 id="traditional-shell-scripting-the-slow-way">Traditional Shell Scripting - The Slow Way<a class="headerlink" href="#traditional-shell-scripting-the-slow-way" title="Permanent link">¶</a></h4> <pre class="mermaid"><code>graph TD
    A1[Sample 1] --&gt; B1[FastQC - 5 min]
    B1 --&gt; C1[Trimming - 10 min]
    C1 --&gt; D1[Assembly - 30 min]
    D1 --&gt; E1[Annotation - 15 min]
    E1 --&gt; F1[✓ Done - 60 min total]

    F1 --&gt; A2[Sample 2]
    A2 --&gt; B2[FastQC - 5 min]
    B2 --&gt; C2[Trimming - 10 min]
    C2 --&gt; D2[Assembly - 30 min]
    D2 --&gt; E2[Annotation - 15 min]
    E2 --&gt; F2[✓ Done - 120 min total]

    F2 --&gt; A3[Sample 3]
    A3 --&gt; B3[FastQC - 5 min]
    B3 --&gt; C3[Trimming - 10 min]
    C3 --&gt; D3[Assembly - 30 min]
    D3 --&gt; E3[Annotation - 15 min]
    E3 --&gt; F3[✓ All Done - 180 min total]

    style A1 fill:#ffcccc
    style A2 fill:#ffcccc
    style A3 fill:#ffcccc
    style F3 fill:#ff9999</code></pre> <p><strong>Problems with traditional approach:</strong> - <strong>Sequential processing</strong>: Must wait for each sample to finish completely - <strong>Wasted resources</strong>: Only uses one CPU core at a time - <strong>Total time</strong>: 180 minutes (3 hours) for 3 samples - <strong>Scaling nightmare</strong>: 100 samples = 100 hours!</p> <h4 id="nextflow-the-fast-way">Nextflow - The Fast Way<a class="headerlink" href="#nextflow-the-fast-way" title="Permanent link">¶</a></h4> <pre class="mermaid"><code>graph TD
    A4[Sample 1] --&gt; B4[FastQC - 5 min]
    A5[Sample 2] --&gt; B5[FastQC - 5 min]
    A6[Sample 3] --&gt; B6[FastQC - 5 min]

    B4 --&gt; C4[Trimming - 10 min]
    B5 --&gt; C5[Trimming - 10 min]
    B6 --&gt; C6[Trimming - 10 min]

    C4 --&gt; D4[Assembly - 30 min]
    C5 --&gt; D5[Assembly - 30 min]
    C6 --&gt; D6[Assembly - 30 min]

    D4 --&gt; E4[Annotation - 15 min]
    D5 --&gt; E5[Annotation - 15 min]
    D6 --&gt; E6[Annotation - 15 min]

    E4 --&gt; F4[✓ All Done - 60 min total]
    E5 --&gt; F5[3x FASTER!]
    E6 --&gt; F6[Same time as 1 sample]

    style A4 fill:#ccffcc
    style A5 fill:#ccffcc
    style A6 fill:#ccffcc
    style F4 fill:#99ff99
    style F5 fill:#99ff99
    style F6 fill:#99ff99</code></pre> <p><strong>Benefits of Nextflow approach:</strong> - <strong>Parallel processing</strong>: All samples start simultaneously - <strong>Efficient resource use</strong>: Uses all available CPU cores - <strong>Total time</strong>: 60 minutes (1 hour) for 3 samples - <strong>Amazing scaling</strong>: 100 samples still = ~1 hour!</p> <h4 id="the-dramatic-difference">The Dramatic Difference<a class="headerlink" href="#the-dramatic-difference" title="Permanent link">¶</a></h4> <table> <thead> <tr> <th>Approach</th> <th>3 Samples</th> <th>10 Samples</th> <th>100 Samples</th> </tr> </thead> <tbody> <tr> <td><strong>Traditional</strong></td> <td>3 hours</td> <td>10 hours</td> <td>100 hours</td> </tr> <tr> <td><strong>Nextflow</strong></td> <td>1 hour</td> <td>1 hour</td> <td>1 hour</td> </tr> <tr> <td><strong>Speed Gain</strong></td> <td>3x faster</td> <td>10x faster</td> <td>100x faster</td> </tr> </tbody> </table> <p><strong>Real-world impact</strong>: The more samples you have, the more dramatic the time savings become!</p> <div id="time-calculator" style="background: #f5f5f5; padding: 20px; border-radius: 8px; margin: 20px 0;"> <h4>🧮 Interactive Time Calculator</h4> <p>See how much time Nextflow can save you with your own data:</p> <div style="margin: 10px 0;"> <label for="sample-count">Number of samples:</label> <input type="range" id="sample-count" min="1" max="1000" value="10" style="width: 200px;"> <span id="sample-display">10</span> </div> <div style="margin: 10px 0;"> <label for="time-per-sample">Time per sample (minutes):</label> <input type="range" id="time-per-sample" min="10" max="300" value="60" style="width: 200px;"> <span id="time-display">60</span> </div> <div style="display: flex; justify-content: space-between; margin-top: 20px;"> <div style="background: #ffebee; padding: 15px; border-radius: 5px; width: 45%;"> <h5>🐌 Traditional Approach</h5> <p><strong>Total time: <span id="traditional-time">10 hours</span></strong></p> <p>Sequential processing</p> </div> <div style="background: #e8f5e8; padding: 15px; border-radius: 5px; width: 45%;"> <h5>⚡ Nextflow Approach</h5> <p><strong>Total time: <span id="nextflow-time">1 hour</span></strong></p> <p>Parallel processing</p> </div> </div> <div style="text-align: center; margin-top: 15px; font-size: 1.2em; font-weight: bold; color: #2e7d32;"> Time saved: <span id="time-saved">9 hours</span> (<span id="speedup">10x faster</span>) </div> </div> <script>
function updateCalculator() {
    const sampleCount = document.getElementById('sample-count').value;
    const timePerSample = document.getElementById('time-per-sample').value;

    document.getElementById('sample-display').textContent = sampleCount;
    document.getElementById('time-display').textContent = timePerSample;

    const traditionalMinutes = sampleCount * timePerSample;
    const nextflowMinutes = timePerSample; // Parallel processing

    const traditionalHours = Math.round(traditionalMinutes / 60 * 10) / 10;
    const nextflowHours = Math.round(nextflowMinutes / 60 * 10) / 10;
    const timeSaved = traditionalHours - nextflowHours;
    const speedup = Math.round(traditionalHours / nextflowHours * 10) / 10;

    document.getElementById('traditional-time').textContent =
        traditionalHours >= 1 ? traditionalHours + ' hours' : traditionalMinutes + ' minutes';
    document.getElementById('nextflow-time').textContent =
        nextflowHours >= 1 ? nextflowHours + ' hours' : nextflowMinutes + ' minutes';
    document.getElementById('time-saved').textContent =
        timeSaved >= 1 ? timeSaved + ' hours' : (timeSaved * 60) + ' minutes';
    document.getElementById('speedup').textContent = speedup + 'x faster';
}

document.getElementById('sample-count').addEventListener('input', updateCalculator);
document.getElementById('time-per-sample').addEventListener('input', updateCalculator);

// Initialize
updateCalculator();
</script> <h2 id="nextflow-fundamentals">Nextflow Fundamentals<a class="headerlink" href="#nextflow-fundamentals" title="Permanent link">¶</a></h2> <p>Before diving into practical exercises, let's understand the core concepts that make Nextflow powerful.</p> <h3 id="what-is-nextflow">What is Nextflow?<a class="headerlink" href="#what-is-nextflow" title="Permanent link">¶</a></h3> <p>Nextflow is a <strong>workflow management system</strong> that comprises both a runtime environment and a domain-specific language (DSL). It's designed specifically to manage computational data-analysis workflows in bioinformatics and other scientific fields.</p> <h3 id="core-nextflow-features">Core Nextflow Features<a class="headerlink" href="#core-nextflow-features" title="Permanent link">¶</a></h3> <pre class="mermaid"><code>graph LR
    A[Fast Prototyping] --&gt; B[Simple Syntax]
    C[Reproducibility] --&gt; D[Containers &amp; Conda]
    E[Portability] --&gt; F[Run Anywhere]
    G[Parallelism] --&gt; H[Automatic Scaling]
    I[Checkpoints] --&gt; J[Resume from Failures]

    style A fill:#e1f5fe
    style C fill:#e8f5e8
    style E fill:#fff3e0
    style G fill:#f3e5f5
    style I fill:#fce4ec</code></pre> <p><strong>1. Fast Prototyping</strong> - Simple syntax that lets you reuse existing scripts and tools - Quick to write and test new workflows</p> <p><strong>2. Reproducibility</strong> - Built-in support for Docker, Singularity, and Conda - Consistent execution environments across platforms - Same results every time, on any platform</p> <p><strong>3. Portability &amp; Interoperability</strong> - Write once, run anywhere (laptop, HPC cluster, cloud) - Separates workflow logic from execution environment</p> <p><strong>4. Simple Parallelism</strong> - Based on dataflow programming model - Automatically runs independent tasks in parallel</p> <p><strong>5. Continuous Checkpoints</strong> - Tracks all intermediate results automatically - Resume from the last successful step if something fails</p> <h3 id="the-three-building-blocks">The Three Building Blocks<a class="headerlink" href="#the-three-building-blocks" title="Permanent link">¶</a></h3> <p>Every Nextflow workflow has three main components:</p> <h4 id="1-processes-what-to-do"><strong>1. Processes</strong> - What to do<a class="headerlink" href="#1-processes-what-to-do" title="Permanent link">¶</a></h4> <div class="language-groovy highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">process</span><span class="w"> </span><span class="n">FASTQC</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="nl">input:</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="n">reads</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span><span class="nl">output:</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="s2">"*_fastqc.html"</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">    </span><span class="nl">script:</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">    </span><span class="s2">"""</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="s2">    fastqc ${reads}</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="s2">    """</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="o">}</span>
</span></code></pre></div> <h4 id="2-channels-how-data-flows"><strong>2. Channels</strong> - How data flows<a class="headerlink" href="#2-channels-how-data-flows" title="Permanent link">¶</a></h4> <div class="language-groovy highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">// Create a channel from files</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">Channel</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">    </span><span class="o">.</span><span class="na">fromPath</span><span class="o">(</span><span class="s2">"data/*.fastq"</span><span class="o">)</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">    </span><span class="o">.</span><span class="na">set</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">reads_ch</span><span class="w"> </span><span class="o">}</span>
</span></code></pre></div> <h4 id="3-workflows-how-it-all-connects"><strong>3. Workflows</strong> - How it all connects<a class="headerlink" href="#3-workflows-how-it-all-connects" title="Permanent link">¶</a></h4> <div class="language-groovy highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">    </span><span class="n">FASTQC</span><span class="o">(</span><span class="n">reads_ch</span><span class="o">)</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="o">}</span>
</span></code></pre></div> <h3 id="understanding-processes-channels-and-workflows">Understanding Processes, Channels, and Workflows<a class="headerlink" href="#understanding-processes-channels-and-workflows" title="Permanent link">¶</a></h3> <h4 id="processes-in-detail"><strong>Processes in Detail</strong><a class="headerlink" href="#processes-in-detail" title="Permanent link">¶</a></h4> <p>A <strong>process</strong> describes a task to be run. Think of it as a recipe that tells Nextflow: - What inputs it needs - What outputs it produces - What commands to run</p> <div class="language-groovy highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">process</span><span class="w"> </span><span class="n">COUNT_READS</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">    </span><span class="c1">// Process directives (optional)</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">    </span><span class="n">tag</span><span class="w"> </span><span class="s2">"$sample_id"</span><span class="w">           </span><span class="c1">// Label for this task</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">    </span><span class="n">publishDir</span><span class="w"> </span><span class="s2">"results/"</span><span class="w">      </span><span class="c1">// Where to save outputs</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">    </span><span class="nl">input:</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="n">reads</span><span class="o">)</span><span class="w">  </span><span class="c1">// What this process needs</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w">    </span><span class="nl">output:</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="s2">"${sample_id}.count"</span><span class="w">          </span><span class="c1">// What this process creates</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="w">    </span><span class="nl">script:</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="w">    </span><span class="s2">"""</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="s2">    echo "Counting reads in ${sample_id}"</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="s2">    wc -l ${reads} &gt; ${sample_id}.count</span>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="s2">    """</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="o">}</span>
</span></code></pre></div> <p><strong>Key Points:</strong> - Each process runs independently (cannot talk to other processes) - If you have 3 input files, Nextflow automatically creates 3 separate tasks - Tasks can run in parallel if resources are available</p> <h4 id="channels-in-detail"><strong>Channels in Detail</strong><a class="headerlink" href="#channels-in-detail" title="Permanent link">¶</a></h4> <p><strong>Channels</strong> are like conveyor belts that move data between processes. They're asynchronous queues that connect processes together.</p> <div class="language-groovy highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1">// Different ways to create channels</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="c1">// From files matching a pattern</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="n">Channel</span><span class="o">.</span><span class="na">fromPath</span><span class="o">(</span><span class="s2">"data/*.fastq"</span><span class="o">)</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="c1">// From pairs of files (R1/R2)</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="n">Channel</span><span class="o">.</span><span class="na">fromFilePairs</span><span class="o">(</span><span class="s2">"data/*_{R1,R2}.fastq"</span><span class="o">)</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="c1">// From a list of values</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="n">Channel</span><span class="o">.</span><span class="na">from</span><span class="o">([</span><span class="s1">'sample1'</span><span class="o">,</span><span class="w"> </span><span class="s1">'sample2'</span><span class="o">,</span><span class="w"> </span><span class="s1">'sample3'</span><span class="o">])</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="c1">// From a CSV file</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="n">Channel</span><span class="o">.</span><span class="na">fromPath</span><span class="o">(</span><span class="s2">"samples.csv"</span><span class="o">)</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="w">    </span><span class="o">.</span><span class="na">splitCsv</span><span class="o">(</span><span class="nl">header:</span><span class="w"> </span><span class="kc">true</span><span class="o">)</span>
</span></code></pre></div> <p><strong>Channel Flow Example:</strong> </p><pre class="mermaid"><code>graph LR
    A[Input Files] --&gt; B[Channel]
    B --&gt; C[Process 1]
    C --&gt; D[Output Channel]
    D --&gt; E[Process 2]
    E --&gt; F[Final Results]

    style B fill:#e1f5fe
    style D fill:#e1f5fe</code></pre><p></p> <h4 id="workflows-in-detail"><strong>Workflows in Detail</strong><a class="headerlink" href="#workflows-in-detail" title="Permanent link">¶</a></h4> <p>The <strong>workflow</strong> section defines how processes connect together. It's like the assembly line instructions.</p> <div class="language-groovy highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">    </span><span class="c1">// Create input channel</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">    </span><span class="n">reads_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromPath</span><span class="o">(</span><span class="s2">"data/*.fastq"</span><span class="o">)</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">    </span><span class="c1">// Run processes in order</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">    </span><span class="n">FASTQC</span><span class="o">(</span><span class="n">reads_ch</span><span class="o">)</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">    </span><span class="n">COUNT_READS</span><span class="o">(</span><span class="n">reads_ch</span><span class="o">)</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">    </span><span class="c1">// Use output from one process as input to another</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">    </span><span class="n">TRIMMING</span><span class="o">(</span><span class="n">reads_ch</span><span class="o">)</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="w">    </span><span class="n">ASSEMBLY</span><span class="o">(</span><span class="n">TRIMMING</span><span class="o">.</span><span class="na">out</span><span class="o">)</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="o">}</span>
</span></code></pre></div> <h3 id="how-nextflow-executes-your-workflow">How Nextflow Executes Your Workflow<a class="headerlink" href="#how-nextflow-executes-your-workflow" title="Permanent link">¶</a></h3> <p>When you run a Nextflow script, here's what happens:</p> <ol> <li><strong>Parse the script</strong>: Nextflow reads your workflow definition</li> <li><strong>Create the execution graph</strong>: Figures out which processes depend on which</li> <li><strong>Submit tasks</strong>: Sends individual tasks to the executor (local computer, cluster, cloud)</li> <li><strong>Monitor progress</strong>: Tracks which tasks complete successfully</li> <li><strong>Handle failures</strong>: Retries failed tasks or stops gracefully</li> <li><strong>Collect results</strong>: Gathers outputs in the specified locations</li> </ol> <pre class="mermaid"><code>graph TD
    A[Nextflow Script] --&gt; B[Parse &amp; Plan]
    B --&gt; C[Submit Tasks]
    C --&gt; D[Monitor Execution]
    D --&gt; E{All Tasks Done?}
    E --&gt;|No| F[Handle Failures]
    F --&gt; C
    E --&gt;|Yes| G[Collect Results]

    style A fill:#e1f5fe
    style G fill:#c8e6c9</code></pre> <h3 id="your-first-nextflow-script">Your First Nextflow Script<a class="headerlink" href="#your-first-nextflow-script" title="Permanent link">¶</a></h3> <p>Let's look at a complete, simple example that counts lines in a file:</p> <div class="language-groovy highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="cp">#!/usr/bin/env nextflow</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="c1">// Parameters (can be changed when running)</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="n">params</span><span class="o">.</span><span class="na">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"data/sample.fastq"</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="c1">// Create input channel</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="n">input_ch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromPath</span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">input</span><span class="o">)</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="c1">// Main workflow</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="n">workflow</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="w">    </span><span class="n">NUM_LINES</span><span class="o">(</span><span class="n">input_ch</span><span class="o">)</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="w">    </span><span class="n">NUM_LINES</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">view</span><span class="o">()</span><span class="w">  </span><span class="c1">// Print results to screen</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="o">}</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="c1">// Process definition</span>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="n">process</span><span class="w"> </span><span class="n">NUM_LINES</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="w">    </span><span class="nl">input:</span>
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="n">read</span>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a>
</span><span id="__span-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="w">    </span><span class="nl">output:</span>
</span><span id="__span-11-21"><a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a><span class="w">    </span><span class="n">stdout</span>
</span><span id="__span-11-22"><a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a>
</span><span id="__span-11-23"><a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a><span class="w">    </span><span class="nl">script:</span>
</span><span id="__span-11-24"><a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a><span class="w">    </span><span class="s2">"""</span>
</span><span id="__span-11-25"><a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a><span class="s2">    echo "Processing: ${read}"</span>
</span><span id="__span-11-26"><a id="__codelineno-11-26" name="__codelineno-11-26" href="#__codelineno-11-26"></a><span class="s2">    wc -l ${read}</span>
</span><span id="__span-11-27"><a id="__codelineno-11-27" name="__codelineno-11-27" href="#__codelineno-11-27"></a><span class="s2">    """</span>
</span><span id="__span-11-28"><a id="__codelineno-11-28" name="__codelineno-11-28" href="#__codelineno-11-28"></a><span class="o">}</span>
</span></code></pre></div> <p><strong>Run the Nextflow script:</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>count_lines.nf
</span></code></pre></div><p></p> <details class="success"> <summary>Expected output</summary> <div class="language-text highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>N E X T F L O W  ~  version 23.10.0
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>Launching `count_lines.nf` [amazing_euler] - revision: a1b2c3d4
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>executor &gt;  local (1)
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>[a1/b2c3d4] process &gt; NUM_LINES (1) [100%] 1 of 1 ✔
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>Processing: sample.fastq
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>1000
</span></code></pre></div> <p><strong>What this output means:</strong> - <strong>Line 1</strong>: Nextflow version information - <strong>Line 2</strong>: Script name and unique run identifier - <strong>Line 3</strong>: Executor type (local computer) - <strong>Line 4</strong>: Process execution status with unique task ID - <strong>Line 5-6</strong>: Your script's actual output</p> </details> <h3 id="workflow-execution-and-executors">Workflow Execution and Executors<a class="headerlink" href="#workflow-execution-and-executors" title="Permanent link">¶</a></h3> <p>One of Nextflow's most powerful features is that it separates <strong>what</strong> your workflow does from <strong>where</strong> it runs.</p> <h4 id="executors-where-your-workflow-runs"><strong>Executors: Where Your Workflow Runs</strong><a class="headerlink" href="#executors-where-your-workflow-runs" title="Permanent link">¶</a></h4> <pre class="mermaid"><code>graph TD
    A[Your Nextflow Script] --&gt; B{Choose Executor}
    B --&gt; C[Local Computer]
    B --&gt; D[SLURM Cluster]
    B --&gt; E[AWS Cloud]
    B --&gt; F[Google Cloud]
    B --&gt; G[Azure Cloud]

    C --&gt; H[Same Workflow Code]
    D --&gt; H
    E --&gt; H
    F --&gt; H
    G --&gt; H

    style A fill:#e1f5fe
    style H fill:#c8e6c9</code></pre> <p><strong>Available Executors:</strong> - <strong>Local</strong>: Your laptop/desktop (default, great for testing) - <strong><a href="https://slurm.schedmd.com/documentation.html">SLURM</a></strong>: High-performance computing clusters - <strong><a href="https://www.openpbs.org/">PBS/Torque</a></strong>: Another type of cluster scheduler - <strong><a href="https://aws.amazon.com/batch/">AWS Batch</a></strong>: Amazon cloud computing - <strong><a href="https://cloud.google.com/batch">Google Cloud</a></strong>: Google's cloud platform - <strong><a href="https://kubernetes.io/">Kubernetes</a></strong>: Container orchestration platform</p> <h4 id="how-to-choose-execution-platform"><strong>How to Choose Execution Platform</strong><a class="headerlink" href="#how-to-choose-execution-platform" title="Permanent link">¶</a></h4> <p>You don't change your workflow code! Instead, you use configuration:</p> <p><strong>For local execution (default):</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>my_pipeline.nf
</span></code></pre></div><p></p> <p><strong>For <a href="https://slurm.schedmd.com/documentation.html">SLURM</a> cluster:</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>my_pipeline.nf<span class="w"> </span>-profile<span class="w"> </span>slurm
</span></code></pre></div><p></p> <p><strong>For <a href="https://aws.amazon.com/batch/">AWS</a> cloud:</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>my_pipeline.nf<span class="w"> </span>-profile<span class="w"> </span>aws
</span></code></pre></div><p></p> <h4 id="resource-management"><strong>Resource Management</strong><a class="headerlink" href="#resource-management" title="Permanent link">¶</a></h4> <p>Nextflow automatically handles: - <strong>CPU allocation</strong>: How many cores each task gets - <strong>Memory management</strong>: How much RAM each task needs - <strong>Queue submission</strong>: Sending jobs to cluster schedulers - <strong>Error handling</strong>: Retrying failed tasks - <strong>File staging</strong>: Moving data between storage systems</p> <h3 id="quick-recap-key-concepts">Quick Recap: Key Concepts<a class="headerlink" href="#quick-recap-key-concepts" title="Permanent link">¶</a></h3> <p>Before we start coding, let's make sure you understand these essential concepts:</p> <dl> <dt><strong>Workflow Management System (WfMS)</strong></dt> <dd>A computational platform for setting up, executing, and monitoring workflows</dd> <dt><strong>Process</strong></dt> <dd>A task definition that specifies inputs, outputs, and commands to run</dd> <dt><strong>Channel</strong></dt> <dd>An asynchronous queue that passes data between processes</dd> <dt><strong>Workflow</strong></dt> <dd>The section that defines how processes connect together</dd> <dt><strong>Executor</strong></dt> <dd>The system that actually runs your tasks (local, cluster, cloud)</dd> <dt><strong>Task</strong></dt> <dd>A single instance of a process running with specific input data</dd> <dt><strong>Parallelization</strong></dt> <dd>Running multiple tasks simultaneously to save time</dd> </dl> <h3 id="understanding-nextflow-output-organization">Understanding Nextflow Output Organization<a class="headerlink" href="#understanding-nextflow-output-organization" title="Permanent link">¶</a></h3> <p>Before diving into exercises, it's essential to understand how Nextflow organizes its outputs. This knowledge will help you navigate results and debug issues effectively.</p> <h4 id="nextflow-directory-structure">Nextflow Directory Structure<a class="headerlink" href="#nextflow-directory-structure" title="Permanent link">¶</a></h4> <p>When you run a Nextflow pipeline, several directories are automatically created:</p> <pre class="mermaid"><code>graph TD
    A[Your Project Directory] --&gt; B[work/]
    A --&gt; C[results/]
    A --&gt; D[.nextflow/]
    A --&gt; E[.nextflow.log]
    A --&gt; F[timeline.html]
    A --&gt; G[report.html]

    B --&gt; H[Task Directories]
    H --&gt; I[a1/b2c3d4.../]
    I --&gt; J[.command.sh]
    I --&gt; K[.command.log]
    I --&gt; L[.command.err]
    I --&gt; M[Input Files]
    I --&gt; N[Output Files]

    C --&gt; O[Published Results]
    C --&gt; P[fastqc/]
    C --&gt; Q[assembly/]

    style A fill:#e1f5fe
    style B fill:#fff3e0
    style C fill:#e8f5e8
    style D fill:#f3e5f5</code></pre> <div id="folder-explorer" style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;"> <h4>📁 Interactive Folder Explorer</h4> <p>Click on folders to explore Nextflow's directory structure:</p> <div id="folder-tree" style="font-family: 'Courier New', monospace; background: white; padding: 15px; border-radius: 5px; border: 1px solid #ddd;"> <div class="folder-item" data-folder="root" style="cursor: pointer; padding: 2px 0;"> 📁 <span style="font-weight: bold;">nextflow-training/</span> <span style="color: #666;">(your project directory)</span> </div> <div class="folder-content" data-content="root" style="margin-left: 20px; display: none;"> <div class="folder-item" data-folder="work" style="cursor: pointer; padding: 2px 0;"> 📁 <span style="color: #ff9800;">work/</span> <span style="color: #666;">(temporary task files)</span> </div> <div class="folder-content" data-content="work" style="margin-left: 20px; display: none;"> <div class="folder-item" data-folder="task" style="cursor: pointer; padding: 2px 0;"> 📁 <span style="color: #ff9800;">a1/b2c3d4e5f6.../</span> <span style="color: #666;">(individual task directory)</span> </div> <div class="folder-content" data-content="task" style="margin-left: 20px; display: none;"> <div style="padding: 2px 0;">📄 .command.sh <span style="color: #666;">(the actual command run)</span></div> <div style="padding: 2px 0;">📄 .command.log <span style="color: #666;">(stdout from command)</span></div> <div style="padding: 2px 0;">📄 .command.err <span style="color: #666;">(stderr from command)</span></div> <div style="padding: 2px 0;">📄 .command.out <span style="color: #666;">(captured output)</span></div> <div style="padding: 2px 0;">📄 .exitcode <span style="color: #666;">(exit status)</span></div> <div style="padding: 2px 0;">📄 sample1_R1.fastq <span style="color: #666;">(input files - symlinks)</span></div> <div style="padding: 2px 0;">📄 sample1_fastqc.html <span style="color: #666;">(output files)</span></div> </div> </div> <div class="folder-item" data-folder="results" style="cursor: pointer; padding: 2px 0;"> 📁 <span style="color: #4caf50;">results/</span> <span style="color: #666;">(published outputs)</span> </div> <div class="folder-content" data-content="results" style="margin-left: 20px; display: none;"> <div style="padding: 2px 0;">📁 fastqc/ <span style="color: #666;">(quality control reports)</span></div> <div style="padding: 2px 0;">📁 assembly/ <span style="color: #666;">(genome assemblies)</span></div> <div style="padding: 2px 0;">📁 annotation/ <span style="color: #666;">(gene annotations)</span></div> </div> <div class="folder-item" data-folder="nextflow" style="cursor: pointer; padding: 2px 0;"> 📁 <span style="color: #9c27b0;">.nextflow/</span> <span style="color: #666;">(Nextflow cache and metadata)</span> </div> <div class="folder-content" data-content="nextflow" style="margin-left: 20px; display: none;"> <div style="padding: 2px 0;">📁 cache/ <span style="color: #666;">(pipeline cache)</span></div> <div style="padding: 2px 0;">📁 history <span style="color: #666;">(run history)</span></div> <div style="padding: 2px 0;">📄 pid <span style="color: #666;">(process ID file)</span></div> </div> <div style="padding: 2px 0;">📄 <span style="color: #2196f3;">.nextflow.log</span> <span style="color: #666;">(main log file)</span></div> <div style="padding: 2px 0;">📄 <span style="color: #2196f3;">timeline.html</span> <span style="color: #666;">(execution timeline)</span></div> <div style="padding: 2px 0;">📄 <span style="color: #2196f3;">report.html</span> <span style="color: #666;">(execution report)</span></div> <div style="padding: 2px 0;">📄 hello.nf <span style="color: #666;">(your pipeline script)</span></div> </div> </div> <div id="folder-description" style="margin-top: 15px; padding: 15px; background: #e3f2fd; border-radius: 5px; display: none;"> <div id="description-content"></div> </div> </div> <script>
const folderDescriptions = {
    root: {
        title: "📁 Project Directory",
        content: `This is your main working directory where you run Nextflow commands. It contains your pipeline scripts and all generated files.`
    },
    work: {
        title: "📁 work/ Directory",
        content: `<strong>The work directory is Nextflow's scratch space.</strong>
        <ul>
        <li><strong>Purpose:</strong> Stores temporary files for each task</li>
        <li><strong>Structure:</strong> Organized by hash (e.g., a1/b2c3d4...)</li>
        <li><strong>Contents:</strong> Input files (symlinks), output files, logs</li>
        <li><strong>Important:</strong> Don't delete while pipeline is running!</li>
        <li><strong>Cleanup:</strong> Can be safely deleted after successful completion</li>
        </ul>`
    },
    task: {
        title: "📁 Task Directory (a1/b2c3d4...)",
        content: `<strong>Each task gets its own unique directory.</strong>
        <ul>
        <li><strong>.command.sh:</strong> The exact command that was executed</li>
        <li><strong>.command.log:</strong> Standard output from the command</li>
        <li><strong>.command.err:</strong> Error messages (if any)</li>
        <li><strong>.exitcode:</strong> Exit status (0 = success, non-zero = error)</li>
        <li><strong>Input files:</strong> Symbolic links to original data</li>
        <li><strong>Output files:</strong> Results generated by the task</li>
        </ul>
        <strong>💡 Debugging tip:</strong> When a task fails, check these files to understand what went wrong!`
    },
    results: {
        title: "📁 results/ Directory",
        content: `<strong>Your final, organized outputs.</strong>
        <ul>
        <li><strong>Purpose:</strong> Contains only the files you want to keep</li>
        <li><strong>Organization:</strong> Structured by analysis type</li>
        <li><strong>publishDir:</strong> Controlled by publishDir directive in processes</li>
        <li><strong>Clean:</strong> No temporary or intermediate files</li>
        <li><strong>Shareable:</strong> This is what you share with collaborators</li>
        </ul>`
    },
    nextflow: {
        title: "📁 .nextflow/ Directory",
        content: `<strong>Nextflow's internal management files.</strong>
        <ul>
        <li><strong>cache/:</strong> Enables resume functionality</li>
        <li><strong>history:</strong> Records of previous runs</li>
        <li><strong>pid:</strong> Process ID of running pipeline</li>
        <li><strong>Don't modify:</strong> Let Nextflow manage these files</li>
        <li><strong>Resume magic:</strong> This is how -resume works!</li>
        </ul>`
    }
};

document.querySelectorAll('.folder-item').forEach(item => {
    item.addEventListener('click', function() {
        const folder = this.dataset.folder;
        const content = document.querySelector(`[data-content="${folder}"]`);
        const description = folderDescriptions[folder];

        // Toggle folder content
        if (content) {
            const isVisible = content.style.display !== 'none';
            content.style.display = isVisible ? 'none' : 'block';

            // Update folder icon
            const icon = this.querySelector('span');
            if (icon && icon.textContent.includes('📁')) {
                icon.textContent = isVisible ? '📁' : '📂';
            }
        }

        // Show description
        if (description) {
            document.getElementById('description-content').innerHTML =
                '<h5>' + description.title + '</5>' + description.content;
            document.getElementById('folder-description').style.display = 'block';
        }
    });
});
</script> <h4 id="practical-navigation-commands">Practical Navigation Commands<a class="headerlink" href="#practical-navigation-commands" title="Permanent link">¶</a></h4> <p>Here are essential commands for exploring Nextflow outputs:</p> <p><strong>Check overall structure:</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>tree<span class="w"> </span>-L<span class="w"> </span><span class="m">2</span>
</span></code></pre></div><p></p> <details class="success"> <summary>Expected output</summary> <div class="language-text highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>.
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>├── data/
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>│   ├── sample1_R1.fastq
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>│   └── sample1_R2.fastq
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>├── hello.nf
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>├── results/
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>│   └── fastqc/
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>├── work/
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>│   ├── a1/
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>│   ├── b2/
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>│   └── c3/
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>├── .nextflow/
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a>├── .nextflow.log
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a>└── timeline.html
</span></code></pre></div> </details> <p><strong>Find the most recent task directory:</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>find<span class="w"> </span>work/<span class="w"> </span>-name<span class="w"> </span><span class="s2">"*.exitcode"</span><span class="w"> </span>-exec<span class="w"> </span>dirname<span class="w"> </span><span class="o">{}</span><span class="w"> </span><span class="se">\;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-1
</span></code></pre></div><p></p> <p><strong>Check task execution details:</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1"># Navigate to a task directory (use actual path from above)</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="nb">cd</span><span class="w"> </span>work/a1/b2c3d4e5f6...
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="c1"># See what command was run</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>cat<span class="w"> </span>.command.sh
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="c1"># Check if it succeeded</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>cat<span class="w"> </span>.exitcode<span class="w">  </span><span class="c1"># 0 = success, non-zero = error</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="c1"># View any error messages</span>
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a>cat<span class="w"> </span>.command.err
</span></code></pre></div><p></p> <p><strong>Monitor pipeline progress:</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1"># Watch log in real-time</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>tail<span class="w"> </span>-f<span class="w"> </span>.nextflow.log
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="c1"># Check execution summary</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>nextflow<span class="w"> </span>log
</span></code></pre></div><p></p> <details class="success"> <summary>Example nextflow log output</summary> <div class="language-text highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>TIMESTAMP            DURATION  RUN NAME         STATUS   REVISION ID  SESSION ID                            COMMAND
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>2024-01-15 10:30:15  2m 15s    clever_volta     OK       a1b2c3d4     12345678-1234-1234-1234-123456789012  nextflow run hello.nf
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>2024-01-15 10:25:30  45s       sad_einstein     ERR      e5f6g7h8     87654321-4321-4321-4321-210987654321  nextflow run broken.nf
</span></code></pre></div> </details> <h4 id="understanding-publishdir-vs-work-directory">Understanding publishDir vs work Directory<a class="headerlink" href="#understanding-publishdir-vs-work-directory" title="Permanent link">¶</a></h4> <p>One of the most important concepts for beginners is understanding the difference between the <code>work/</code> directory and your results:</p> <div style="display: flex; gap: 20px; margin: 20px 0;"> <div style="flex: 1; background: #fff3e0; padding: 15px; border-radius: 8px; border-left: 4px solid #ff9800;"> <h5>🔧 work/ Directory</h5> <ul style="margin: 10px 0; padding-left: 20px;"> <li><strong>Temporary</strong> - Can be deleted</li> <li><strong>Messy</strong> - Mixed with logs and metadata</li> <li><strong>Hash-named</strong> - Hard to navigate</li> <li><strong>For debugging</strong> - When things go wrong</li> </ul> <strong>Use for:</strong> Debugging failed tasks </div> <div style="flex: 1; background: #e8f5e8; padding: 15px; border-radius: 8px; border-left: 4px solid #4caf50;"> <h5>📊 results/ Directory</h5> <ul style="margin: 10px 0; padding-left: 20px;"> <li><strong>Permanent</strong> - Your final outputs</li> <li><strong>Clean</strong> - Only important files</li> <li><strong>Organized</strong> - Logical folder structure</li> <li><strong>For sharing</strong> - With collaborators</li> </ul> <strong>Use for:</strong> Your actual research results </div> </div> <h4 id="common-directory-issues-and-solutions">Common Directory Issues and Solutions<a class="headerlink" href="#common-directory-issues-and-solutions" title="Permanent link">¶</a></h4> <p><strong>Problem: "I can't find my results!"</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="c1"># Check if publishDir was used in your process</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>grep<span class="w"> </span>-n<span class="w"> </span><span class="s2">"publishDir"</span><span class="w"> </span>*.nf
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="c1"># Look in the work directory</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>find<span class="w"> </span>work/<span class="w"> </span>-name<span class="w"> </span><span class="s2">"*.html"</span><span class="w"> </span>-o<span class="w"> </span>-name<span class="w"> </span><span class="s2">"*.txt"</span><span class="w"> </span>-o<span class="w"> </span>-name<span class="w"> </span><span class="s2">"*.fasta"</span>
</span></code></pre></div><p></p> <p><strong>Problem: "Pipeline failed, how do I debug?"</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1"># Find failed tasks</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>grep<span class="w"> </span><span class="s2">"FAILED"</span><span class="w"> </span>.nextflow.log
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="c1"># Get the work directory of failed task</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>grep<span class="w"> </span>-A<span class="w"> </span><span class="m">5</span><span class="w"> </span><span class="s2">"FAILED"</span><span class="w"> </span>.nextflow.log<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span><span class="s2">"work/"</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="c1"># Navigate to that directory and investigate</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="nb">cd</span><span class="w"> </span>work/xx/yyyy...
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>cat<span class="w"> </span>.command.err
</span></code></pre></div><p></p> <p><strong>Problem: "work/ directory is huge!"</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="c1"># Check work directory size</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>du<span class="w"> </span>-sh<span class="w"> </span>work/
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="c1"># Clean up after successful completion</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>rm<span class="w"> </span>-rf<span class="w"> </span>work/
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="c1"># Or use Nextflow's clean command</span>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>nextflow<span class="w"> </span>clean<span class="w"> </span>-f
</span></code></pre></div><p></p> <p>Now that you understand these fundamentals, let's put them into practice!</p> <div id="command-simulator" style="background: #1e1e1e; color: #00ff00; padding: 20px; border-radius: 8px; margin: 20px 0; font-family: 'Courier New', monospace;"> <h4 style="color: #ffffff; margin-top: 0;">💻 Interactive Command Simulator</h4> <p style="color: #cccccc;">Practice Nextflow commands in this simulated terminal:</p> <div style="margin: 10px 0;"> <span style="color: #00ff00;">user@training:~/nextflow-training$ </span> <input type="text" id="command-input" placeholder="Type a command..." style="background: transparent; border: none; color: #00ff00; outline: none; font-family: inherit; width: 300px;"> </div> <div id="command-output" style="margin-top: 15px; min-height: 100px; max-height: 300px; overflow-y: auto; background: #000; padding: 10px; border-radius: 5px;"> <div style="color: #888;">Welcome to the Nextflow command simulator!</div> <div style="color: #888;">Try typing: nextflow -version</div> </div> <div style="margin-top: 10px; font-size: 0.9em; color: #888;"> <strong>Available commands:</strong> nextflow -version, nextflow run hello.nf, ls, pwd, mkdir, cat </div> </div> <script>
const commandHistory = [];
let historyIndex = -1;

const commands = {
    'nextflow -version': 'nextflow version 23.10.0.5889',
    'nextflow --version': 'nextflow version 23.10.0.5889',
    'nextflow run hello.nf': `N E X T F L O W  ~  version 23.10.0
Launching \`hello.nf\` [nostalgic_pasteur] - revision: 1a2b3c4d
executor >  local (3)
[a1/b2c3d4] process > sayHello (3) [100%] 3 of 3 ✔
Hello from sample1!
Hello from sample2!
Hello from sample3!`,
    'ls': 'data/  results/  scripts/  hello.nf',
    'ls -la': `total 16
drwxr-xr-x 5 user user 4096 Jan 15 09:00 .
drwxr-xr-x 3 user user 4096 Jan 15 09:00 ..
drwxr-xr-x 2 user user 4096 Jan 15 09:00 data
-rw-r--r-- 1 user user  456 Jan 15 09:15 hello.nf
drwxr-xr-x 2 user user 4096 Jan 15 09:00 results
drwxr-xr-x 2 user user 4096 Jan 15 09:00 scripts`,
    'pwd': '/home/user/nextflow-training',
    'mkdir test': 'Directory created: test/',
    'cat hello.nf': `#!/usr/bin/env nextflow

params.samples = ['sample1', 'sample2', 'sample3']

Channel
    .from(params.samples)
    .set { samples_ch }

process sayHello {
    input:
    val sample_name from samples_ch

    output:
    stdout into results_ch

    script:
    """
    echo "Hello from \${sample_name}!"
    """
}

results_ch.view()`,
    'help': `Available commands:
- nextflow -version: Check Nextflow version
- nextflow run hello.nf: Run a Nextflow script
- ls: List files and directories
- pwd: Show current directory
- mkdir <name>: Create directory
- cat <file>: Show file contents
- clear: Clear the terminal`,
    'clear': 'CLEAR'
};

function executeCommand(cmd) {
    const output = document.getElementById('command-output');

    // Add command to output
    const commandLine = document.createElement('div');
    commandLine.innerHTML = `<span style="color: #00ff00;">user@training:~/nextflow-training$ </span><span style="color: #ffffff;">${cmd}</span>`;
    output.appendChild(commandLine);

    // Execute command
    if (cmd === 'clear') {
        output.innerHTML = '<div style="color: #888;">Terminal cleared.</div>';
    } else if (commands[cmd]) {
        const result = document.createElement('div');
        result.style.color = '#cccccc';
        result.style.whiteSpace = 'pre-line';
        result.textContent = commands[cmd];
        output.appendChild(result);
    } else {
        const error = document.createElement('div');
        error.style.color = '#ff6b6b';
        error.textContent = `Command not found: ${cmd}. Type 'help' for available commands.`;
        output.appendChild(error);
    }

    // Scroll to bottom
    output.scrollTop = output.scrollHeight;
}

document.getElementById('command-input').addEventListener('keydown', function(e) {
    if (e.key === 'Enter') {
        const cmd = this.value.trim();
        if (cmd) {
            commandHistory.push(cmd);
            historyIndex = commandHistory.length;
            executeCommand(cmd);
            this.value = '';
        }
    } else if (e.key === 'ArrowUp') {
        e.preventDefault();
        if (historyIndex > 0) {
            historyIndex--;
            this.value = commandHistory[historyIndex];
        }
    } else if (e.key === 'ArrowDown') {
        e.preventDefault();
        if (historyIndex < commandHistory.length - 1) {
            historyIndex++;
            this.value = commandHistory[historyIndex];
        } else {
            historyIndex = commandHistory.length;
            this.value = '';
        }
    }
});
</script> <div class="language-text highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>
</span></code></pre></div> <h3 id="your-first-genomics-pipeline">Your First Genomics Pipeline<a class="headerlink" href="#your-first-genomics-pipeline" title="Permanent link">¶</a></h3> <p>Here's what a basic microbial genomics analysis looks like:</p> <pre class="mermaid"><code>flowchart LR
    A[Raw Sequencing Data&lt;br/&gt;FASTQ files] --&gt; B[Quality Control&lt;br/&gt;FastQC]
    B --&gt; C[Read Trimming&lt;br/&gt;Trimmomatic]
    C --&gt; D[Genome Assembly&lt;br/&gt;SPAdes]
    D --&gt; E[Assembly Quality&lt;br/&gt;QUAST]
    E --&gt; F[Gene Annotation&lt;br/&gt;Prokka]
    F --&gt; G[Final Results&lt;br/&gt;Annotated Genome]

    B --&gt; H[Quality Report]
    E --&gt; I[Assembly Stats]
    F --&gt; J[Gene Predictions]

    style A fill:#e1f5fe
    style G fill:#c8e6c9
    style H fill:#fff3e0
    style I fill:#fff3e0
    style J fill:#fff3e0</code></pre> <p><strong>What Each Step Does:</strong> 1. <strong>Quality Control</strong>: Check if your sequencing data is good quality 2. <strong>Read Trimming</strong>: Remove low-quality parts of sequences 3. <strong>Genome Assembly</strong>: Put the pieces together to reconstruct the genome 4. <strong>Assembly Quality</strong>: Check how good your assembly is 5. <strong>Gene Annotation</strong>: Find and label genes in the genome</p> <h2 id="beginner-friendly-practical-exercises">Beginner-Friendly Practical Exercises<a class="headerlink" href="#beginner-friendly-practical-exercises" title="Permanent link">¶</a></h2> <h3 id="exercise-1-your-first-nextflow-script-15-minutes">Exercise 1: Your First Nextflow Script (15 minutes)<a class="headerlink" href="#exercise-1-your-first-nextflow-script-15-minutes" title="Permanent link">¶</a></h3> <p>Let's start with the simplest possible Nextflow script to build confidence:</p> <p><strong>Step 1: Create a "Hello World" pipeline</strong></p> <div class="language-groovy highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="cp">#!/usr/bin/env nextflow</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="c1">// This is your first Nextflow script!</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="c1">// It just prints a message for each sample</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="c1">// Define your samples (start with just 3)</span>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="n">params</span><span class="o">.</span><span class="na">samples</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="s1">'sample1'</span><span class="o">,</span><span class="w"> </span><span class="s1">'sample2'</span><span class="o">,</span><span class="w"> </span><span class="s1">'sample3'</span><span class="o">]</span>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a>
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="c1">// Create a channel (think of it as a conveyor belt for data)</span>
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="n">Channel</span>
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="w">    </span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">samples</span><span class="o">)</span>
</span><span id="__span-27-12"><a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a><span class="w">    </span><span class="o">.</span><span class="na">set</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">samples_ch</span><span class="w"> </span><span class="o">}</span>
</span><span id="__span-27-13"><a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a>
</span><span id="__span-27-14"><a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a><span class="c1">// Define a process (a step in your pipeline)</span>
</span><span id="__span-27-15"><a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a><span class="n">process</span><span class="w"> </span><span class="n">sayHello</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-27-16"><a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a><span class="w">    </span><span class="c1">// What this process does</span>
</span><span id="__span-27-17"><a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a><span class="w">    </span><span class="nl">input:</span>
</span><span id="__span-27-18"><a id="__codelineno-27-18" name="__codelineno-27-18" href="#__codelineno-27-18"></a><span class="w">    </span><span class="n">val</span><span class="w"> </span><span class="n">sample_name</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">samples_ch</span>
</span><span id="__span-27-19"><a id="__codelineno-27-19" name="__codelineno-27-19" href="#__codelineno-27-19"></a>
</span><span id="__span-27-20"><a id="__codelineno-27-20" name="__codelineno-27-20" href="#__codelineno-27-20"></a><span class="w">    </span><span class="c1">// What it produces</span>
</span><span id="__span-27-21"><a id="__codelineno-27-21" name="__codelineno-27-21" href="#__codelineno-27-21"></a><span class="w">    </span><span class="nl">output:</span>
</span><span id="__span-27-22"><a id="__codelineno-27-22" name="__codelineno-27-22" href="#__codelineno-27-22"></a><span class="w">    </span><span class="n">stdout</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">results_ch</span>
</span><span id="__span-27-23"><a id="__codelineno-27-23" name="__codelineno-27-23" href="#__codelineno-27-23"></a>
</span><span id="__span-27-24"><a id="__codelineno-27-24" name="__codelineno-27-24" href="#__codelineno-27-24"></a><span class="w">    </span><span class="c1">// The actual command</span>
</span><span id="__span-27-25"><a id="__codelineno-27-25" name="__codelineno-27-25" href="#__codelineno-27-25"></a><span class="w">    </span><span class="nl">script:</span>
</span><span id="__span-27-26"><a id="__codelineno-27-26" name="__codelineno-27-26" href="#__codelineno-27-26"></a><span class="w">    </span><span class="s2">"""</span>
</span><span id="__span-27-27"><a id="__codelineno-27-27" name="__codelineno-27-27" href="#__codelineno-27-27"></a><span class="s2">    echo "Hello from ${sample_name}!"</span>
</span><span id="__span-27-28"><a id="__codelineno-27-28" name="__codelineno-27-28" href="#__codelineno-27-28"></a><span class="s2">    """</span>
</span><span id="__span-27-29"><a id="__codelineno-27-29" name="__codelineno-27-29" href="#__codelineno-27-29"></a><span class="o">}</span>
</span><span id="__span-27-30"><a id="__codelineno-27-30" name="__codelineno-27-30" href="#__codelineno-27-30"></a>
</span><span id="__span-27-31"><a id="__codelineno-27-31" name="__codelineno-27-31" href="#__codelineno-27-31"></a><span class="c1">// Show the results</span>
</span><span id="__span-27-32"><a id="__codelineno-27-32" name="__codelineno-27-32" href="#__codelineno-27-32"></a><span class="n">results_ch</span><span class="o">.</span><span class="na">view</span><span class="o">()</span>
</span></code></pre></div> <p><strong>Step 2: Save and run the script</strong></p> <p>First, save the script to a file: </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1"># Create the file</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>nano<span class="w"> </span>hello.nf
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="c1"># Copy-paste the script above, then save and exit (Ctrl+X, Y, Enter)</span>
</span></code></pre></div><p></p> <p>Now run your first Nextflow pipeline: </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>hello.nf
</span></code></pre></div><p></p> <details class="success"> <summary>Expected output</summary> <div class="language-text highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>N E X T F L O W  ~  version 23.10.0
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a>Launching `hello.nf` [nostalgic_pasteur] - revision: 1a2b3c4d
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>executor &gt;  local (3)
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a>[a1/b2c3d4] process &gt; sayHello (3) [100%] 3 of 3 ✔
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a>Hello from sample1!
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a>Hello from sample2!
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a>Hello from sample3!
</span></code></pre></div> <p><strong>What this means:</strong> - Nextflow automatically created 3 parallel tasks (one for each sample) - All 3 tasks completed successfully (3 of 3 ✔) - The output shows messages from all samples</p> </details> <p><strong>Key Learning Points:</strong> - <strong>Channels</strong>: Move data between processes (like a conveyor belt) - <strong>Processes</strong>: Define what to do with each piece of data - <strong>Parallelization</strong>: All samples run at the same time automatically!</p> <h3 id="exercise-2-adding-real-bioinformatics-30-minutes">Exercise 2: Adding Real Bioinformatics (30 minutes)<a class="headerlink" href="#exercise-2-adding-real-bioinformatics-30-minutes" title="Permanent link">¶</a></h3> <p>Now let's do something useful - count reads in FASTQ files:</p> <div class="language-groovy highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="cp">#!/usr/bin/env nextflow</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="c1">// Parameters you can change</span>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="n">params</span><span class="o">.</span><span class="na">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"data/*.fastq"</span>
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="n">params</span><span class="o">.</span><span class="na">outdir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"results"</span>
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a>
</span><span id="__span-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="c1">// Create channel from your FASTQ files</span>
</span><span id="__span-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="n">Channel</span>
</span><span id="__span-31-9"><a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="w">    </span><span class="o">.</span><span class="na">fromPath</span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">input</span><span class="o">)</span>
</span><span id="__span-31-10"><a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="w">    </span><span class="o">.</span><span class="na">set</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">fastq_ch</span><span class="w"> </span><span class="o">}</span>
</span><span id="__span-31-11"><a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a>
</span><span id="__span-31-12"><a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="c1">// Process to count reads</span>
</span><span id="__span-31-13"><a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="n">process</span><span class="w"> </span><span class="n">countReads</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-31-14"><a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="w">    </span><span class="c1">// Where to save results</span>
</span><span id="__span-31-15"><a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a><span class="w">    </span><span class="n">publishDir</span><span class="w"> </span><span class="n">params</span><span class="o">.</span><span class="na">outdir</span><span class="o">,</span><span class="w"> </span><span class="nl">mode:</span><span class="w"> </span><span class="s1">'copy'</span>
</span><span id="__span-31-16"><a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a>
</span><span id="__span-31-17"><a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a><span class="w">    </span><span class="nl">input:</span>
</span><span id="__span-31-18"><a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="n">fastq</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">fastq_ch</span>
</span><span id="__span-31-19"><a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a>
</span><span id="__span-31-20"><a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a><span class="w">    </span><span class="nl">output:</span>
</span><span id="__span-31-21"><a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="s2">"${fastq.baseName}.count"</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">counts_ch</span>
</span><span id="__span-31-22"><a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a>
</span><span id="__span-31-23"><a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a><span class="w">    </span><span class="nl">script:</span>
</span><span id="__span-31-24"><a id="__codelineno-31-24" name="__codelineno-31-24" href="#__codelineno-31-24"></a><span class="w">    </span><span class="s2">"""</span>
</span><span id="__span-31-25"><a id="__codelineno-31-25" name="__codelineno-31-25" href="#__codelineno-31-25"></a><span class="s2">    # Count lines and divide by 4 (FASTQ has 4 lines per read)</span>
</span><span id="__span-31-26"><a id="__codelineno-31-26" name="__codelineno-31-26" href="#__codelineno-31-26"></a><span class="s2">    echo "Counting reads in ${fastq}"</span>
</span><span id="__span-31-27"><a id="__codelineno-31-27" name="__codelineno-31-27" href="#__codelineno-31-27"></a><span class="s2">    wc -l ${fastq} | awk '{print \$1/4}' &gt; ${fastq.baseName}.count</span>
</span><span id="__span-31-28"><a id="__codelineno-31-28" name="__codelineno-31-28" href="#__codelineno-31-28"></a><span class="s2">    """</span>
</span><span id="__span-31-29"><a id="__codelineno-31-29" name="__codelineno-31-29" href="#__codelineno-31-29"></a><span class="o">}</span>
</span><span id="__span-31-30"><a id="__codelineno-31-30" name="__codelineno-31-30" href="#__codelineno-31-30"></a>
</span><span id="__span-31-31"><a id="__codelineno-31-31" name="__codelineno-31-31" href="#__codelineno-31-31"></a><span class="c1">// Show results</span>
</span><span id="__span-31-32"><a id="__codelineno-31-32" name="__codelineno-31-32" href="#__codelineno-31-32"></a><span class="n">counts_ch</span><span class="o">.</span><span class="na">view</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="s2">"Read count file: $it"</span><span class="w"> </span><span class="o">}</span>
</span></code></pre></div> <p><strong>Step 1: Create some test data</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="c1"># Create a data directory and some test files</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>data
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">"@read1\nACGT\n+\nIIII\n@read2\nTGCA\n+\nIIII"</span><span class="w"> </span>&gt;<span class="w"> </span>data/sample1.fastq
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">"@read1\nGCTA\n+\nIIII\n@read2\nATCG\n+\nIIII\n@read3\nCGAT\n+\nIIII"</span><span class="w"> </span>&gt;<span class="w"> </span>data/sample2.fastq
</span></code></pre></div><p></p> <p><strong>Step 2: Save and run the read counting script</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="c1"># Save the script as count_reads.nf</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>nano<span class="w"> </span>count_reads.nf
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="c1"># Copy-paste the script above, then save and exit</span>
</span></code></pre></div><p></p> <p><strong>Step 3: Run the pipeline</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>count_reads.nf
</span></code></pre></div><p></p> <details class="success"> <summary>Expected output</summary> <div class="language-text highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>N E X T F L O W  ~  version 23.10.0
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>Launching `count_reads.nf` [clever_volta] - revision: 5e6f7g8h
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>executor &gt;  local (2)
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a>[c1/d2e3f4] process &gt; countReads (1) [100%] 2 of 2 ✔
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>Read count file: /path/to/results/sample1.count
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a>Read count file: /path/to/results/sample2.count
</span></code></pre></div> </details> <p><strong>Step 4: Check your results</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="c1"># Look at the results directory</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>ls<span class="w"> </span>results/
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="c1"># Check the read counts</span>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a>cat<span class="w"> </span>results/sample1.count
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a>cat<span class="w"> </span>results/sample2.count
</span></code></pre></div><p></p> <details class="success"> <summary>Expected output</summary> <div class="language-text highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a># ls results/
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>sample1.count  sample2.count
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a># cat results/sample1.count
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a>2
</span><span id="__span-37-6"><a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a>
</span><span id="__span-37-7"><a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a># cat results/sample2.count
</span><span id="__span-37-8"><a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a>3
</span></code></pre></div> </details> <p><strong>What this pipeline does:</strong> 1. Finds all <code>.fastq</code> files in the <code>data/</code> directory 2. Counts reads in each file (in parallel!) 3. Saves results to the <code>results/</code> directory 4. Each <code>.count</code> file contains the number of reads for that sample</p> <h3 id="exercise-3-quality-control-pipeline-45-minutes">Exercise 3: Quality Control Pipeline (45 minutes)<a class="headerlink" href="#exercise-3-quality-control-pipeline-45-minutes" title="Permanent link">¶</a></h3> <p>Let's build a real QC pipeline step by step:</p> <div class="language-groovy highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="cp">#!/usr/bin/env nextflow</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="c1">// Parameters</span>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="n">params</span><span class="o">.</span><span class="na">reads</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"data/*_{R1,R2}.fastq"</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="n">params</span><span class="o">.</span><span class="na">outdir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"results"</span>
</span><span id="__span-38-6"><a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a>
</span><span id="__span-38-7"><a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="c1">// Input channel for paired-end reads</span>
</span><span id="__span-38-8"><a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="n">Channel</span>
</span><span id="__span-38-9"><a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="w">    </span><span class="o">.</span><span class="na">fromFilePairs</span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">reads</span><span class="o">)</span>
</span><span id="__span-38-10"><a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="w">    </span><span class="o">.</span><span class="na">set</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">read_pairs_ch</span><span class="w"> </span><span class="o">}</span>
</span><span id="__span-38-11"><a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a>
</span><span id="__span-38-12"><a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="c1">// FastQC process</span>
</span><span id="__span-38-13"><a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a><span class="n">process</span><span class="w"> </span><span class="n">fastqc</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-38-14"><a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a><span class="w">    </span><span class="c1">// Use a container for reproducibility</span>
</span><span id="__span-38-15"><a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a><span class="w">    </span><span class="n">container</span><span class="w"> </span><span class="s1">'biocontainers/fastqc:v0.11.9'</span>
</span><span id="__span-38-16"><a id="__codelineno-38-16" name="__codelineno-38-16" href="#__codelineno-38-16"></a>
</span><span id="__span-38-17"><a id="__codelineno-38-17" name="__codelineno-38-17" href="#__codelineno-38-17"></a><span class="w">    </span><span class="c1">// Save results</span>
</span><span id="__span-38-18"><a id="__codelineno-38-18" name="__codelineno-38-18" href="#__codelineno-38-18"></a><span class="w">    </span><span class="n">publishDir</span><span class="w"> </span><span class="s2">"${params.outdir}/fastqc"</span><span class="o">,</span><span class="w"> </span><span class="nl">mode:</span><span class="w"> </span><span class="s1">'copy'</span>
</span><span id="__span-38-19"><a id="__codelineno-38-19" name="__codelineno-38-19" href="#__codelineno-38-19"></a>
</span><span id="__span-38-20"><a id="__codelineno-38-20" name="__codelineno-38-20" href="#__codelineno-38-20"></a><span class="w">    </span><span class="nl">input:</span>
</span><span id="__span-38-21"><a id="__codelineno-38-21" name="__codelineno-38-21" href="#__codelineno-38-21"></a><span class="w">    </span><span class="n">tuple</span><span class="w"> </span><span class="n">val</span><span class="o">(</span><span class="n">sample_id</span><span class="o">),</span><span class="w"> </span><span class="n">path</span><span class="o">(</span><span class="n">reads</span><span class="o">)</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">read_pairs_ch</span>
</span><span id="__span-38-22"><a id="__codelineno-38-22" name="__codelineno-38-22" href="#__codelineno-38-22"></a>
</span><span id="__span-38-23"><a id="__codelineno-38-23" name="__codelineno-38-23" href="#__codelineno-38-23"></a><span class="w">    </span><span class="nl">output:</span>
</span><span id="__span-38-24"><a id="__codelineno-38-24" name="__codelineno-38-24" href="#__codelineno-38-24"></a><span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="s2">"*_fastqc.{zip,html}"</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">fastqc_ch</span>
</span><span id="__span-38-25"><a id="__codelineno-38-25" name="__codelineno-38-25" href="#__codelineno-38-25"></a>
</span><span id="__span-38-26"><a id="__codelineno-38-26" name="__codelineno-38-26" href="#__codelineno-38-26"></a><span class="w">    </span><span class="nl">script:</span>
</span><span id="__span-38-27"><a id="__codelineno-38-27" name="__codelineno-38-27" href="#__codelineno-38-27"></a><span class="w">    </span><span class="s2">"""</span>
</span><span id="__span-38-28"><a id="__codelineno-38-28" name="__codelineno-38-28" href="#__codelineno-38-28"></a><span class="s2">    echo "Running FastQC on ${sample_id}"</span>
</span><span id="__span-38-29"><a id="__codelineno-38-29" name="__codelineno-38-29" href="#__codelineno-38-29"></a><span class="s2">    fastqc ${reads}</span>
</span><span id="__span-38-30"><a id="__codelineno-38-30" name="__codelineno-38-30" href="#__codelineno-38-30"></a><span class="s2">    """</span>
</span><span id="__span-38-31"><a id="__codelineno-38-31" name="__codelineno-38-31" href="#__codelineno-38-31"></a><span class="o">}</span>
</span><span id="__span-38-32"><a id="__codelineno-38-32" name="__codelineno-38-32" href="#__codelineno-38-32"></a>
</span><span id="__span-38-33"><a id="__codelineno-38-33" name="__codelineno-38-33" href="#__codelineno-38-33"></a><span class="c1">// Show what files were created</span>
</span><span id="__span-38-34"><a id="__codelineno-38-34" name="__codelineno-38-34" href="#__codelineno-38-34"></a><span class="n">fastqc_ch</span><span class="o">.</span><span class="na">view</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="s2">"FastQC report: $it"</span><span class="w"> </span><span class="o">}</span>
</span></code></pre></div> <p><strong>Step 1: Create paired-end test data</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="c1"># Create paired-end FASTQ files</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>data
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">"@read1/1\nACGT\n+\nIIII\n@read2/1\nTGCA\n+\nIIII"</span><span class="w"> </span>&gt;<span class="w"> </span>data/sample1_R1.fastq
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">"@read1/2\nCGTA\n+\nIIII\n@read2/2\nGATT\n+\nIIII"</span><span class="w"> </span>&gt;<span class="w"> </span>data/sample1_R2.fastq
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">"@read1/1\nGCTA\n+\nIIII\n@read2/1\nATCG\n+\nIIII"</span><span class="w"> </span>&gt;<span class="w"> </span>data/sample2_R1.fastq
</span><span id="__span-39-6"><a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">"@read1/2\nTACG\n+\nIIII\n@read2/2\nCGAT\n+\nIIII"</span><span class="w"> </span>&gt;<span class="w"> </span>data/sample2_R2.fastq
</span></code></pre></div><p></p> <p><strong>Step 2: Save and run the FastQC pipeline</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="c1"># Save the script as fastqc_pipeline.nf</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>nano<span class="w"> </span>fastqc_pipeline.nf
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="c1"># Copy-paste the script above, then save and exit</span>
</span></code></pre></div><p></p> <p><strong>Step 3: Run the pipeline</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>nextflow<span class="w"> </span>run<span class="w"> </span>fastqc_pipeline.nf
</span></code></pre></div><p></p> <details class="success"> <summary>Expected output</summary> <div class="language-text highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>N E X T F L O W  ~  version 23.10.0
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a>Launching `fastqc_pipeline.nf` [romantic_curie] - revision: 9a0b1c2d
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a>executor &gt;  local (2)
</span><span id="__span-42-4"><a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a>[e1/f2g3h4] process &gt; fastqc (sample2) [100%] 2 of 2 ✔
</span><span id="__span-42-5"><a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a>FastQC report: /path/to/results/fastqc/sample1_R1_fastqc.html
</span><span id="__span-42-6"><a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a>FastQC report: /path/to/results/fastqc/sample1_R2_fastqc.html
</span><span id="__span-42-7"><a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a>FastQC report: /path/to/results/fastqc/sample2_R1_fastqc.html
</span><span id="__span-42-8"><a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a>FastQC report: /path/to/results/fastqc/sample2_R2_fastqc.html
</span></code></pre></div> </details> <p><strong>Step 4: Check your results</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="c1"># Look at the results structure</span>
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>tree<span class="w"> </span>results/
</span></code></pre></div><p></p> <details class="success"> <summary>Expected output</summary> <div class="language-text highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>results/
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>└── fastqc/
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a>    ├── sample1_R1_fastqc.html
</span><span id="__span-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a>    ├── sample1_R1_fastqc.zip
</span><span id="__span-44-5"><a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a>    ├── sample1_R2_fastqc.html
</span><span id="__span-44-6"><a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a>    ├── sample1_R2_fastqc.zip
</span><span id="__span-44-7"><a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a>    ├── sample2_R1_fastqc.html
</span><span id="__span-44-8"><a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a>    ├── sample2_R1_fastqc.zip
</span><span id="__span-44-9"><a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a>    ├── sample2_R2_fastqc.html
</span><span id="__span-44-10"><a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a>    └── sample2_R2_fastqc.zip
</span></code></pre></div> </details> <p><strong>Progressive Learning Concepts:</strong> - <strong>Paired-end reads</strong>: Handle R1 and R2 files together using <code>fromFilePairs()</code> - <strong>Containers</strong>: Use Docker for consistent software environments - <strong>publishDir</strong>: Automatically save results to specific folders - <strong>Tuple inputs</strong>: Process sample ID and file paths together</p> <h4 id="understanding-your-exercise-results">Understanding Your Exercise Results<a class="headerlink" href="#understanding-your-exercise-results" title="Permanent link">¶</a></h4> <p>After completing the exercises, your directory structure should look like this:</p> <div id="results-explorer" style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;"> <h4>📊 Exercise Results Explorer</h4> <p>Click on exercises to see their expected output structure:</p> <div style="margin: 15px 0;"> <button class="results-btn" data-exercise="hello" style="display: block; width: 100%; padding: 12px; margin: 8px 0; background: #e3f2fd; border: 1px solid #2196f3; border-radius: 5px; text-align: left; cursor: pointer;"> 🎯 Exercise 1: Hello World Results </button> <button class="results-btn" data-exercise="count" style="display: block; width: 100%; padding: 12px; margin: 8px 0; background: #f3e5f5; border: 1px solid #9c27b0; border-radius: 5px; text-align: left; cursor: pointer;"> 📊 Exercise 2: Read Counting Results </button> <button class="results-btn" data-exercise="fastqc" style="display: block; width: 100%; padding: 12px; margin: 8px 0; background: #e8f5e8; border: 1px solid #4caf50; border-radius: 5px; text-align: left; cursor: pointer;"> 🔬 Exercise 3: FastQC Pipeline Results </button> </div> <div id="results-display" style="margin-top: 20px; padding: 15px; background: white; border-radius: 5px; display: none;"> <div id="results-content"></div> </div> </div> <script>
const exerciseResults = {
    hello: {
        title: "🎯 Exercise 1: Hello World Results",
        content: `
<strong>Expected Directory Structure:</strong>
<pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; font-family: 'Courier New', monospace;">
nextflow-training/
├── hello.nf                    # Your script
├── work/                       # Temporary files
│   ├── a1/b2c3d4.../          # Task for sample1
│   ├── e5/f6g7h8.../          # Task for sample2
│   └── i9/j0k1l2.../          # Task for sample3
├── .nextflow.log              # Main log file
└── .nextflow/                 # Nextflow metadata
</pre>

<strong>What to Check:</strong>
<ul>
<li><strong>Terminal Output:</strong> Should show "Hello from sample1!", "Hello from sample2!", "Hello from sample3!"</li>
<li><strong>Log File:</strong> <code>cat .nextflow.log</code> should show successful completion</li>
<li><strong>Work Directory:</strong> Should contain 3 task directories (one per sample)</li>
</ul>

<strong>Troubleshooting:</strong>
<ul>
<li>If no output: Check that the script saved correctly</li>
<li>If errors: Look at <code>.nextflow.log</code> for details</li>
<li>If missing tasks: Verify the samples list in your script</li>
</ul>
        `
    },
    count: {
        title: "📊 Exercise 2: Read Counting Results",
        content: `
<strong>Expected Directory Structure:</strong>
<pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; font-family: 'Courier New', monospace;">
nextflow-training/
├── count_reads.nf             # Your script
├── data/                      # Input files
│   ├── sample1.fastq
│   └── sample2.fastq
├── results/                   # Published outputs
│   ├── sample1.count          # Read count for sample1
│   └── sample2.count          # Read count for sample2
├── work/                      # Temporary files
│   ├── a1/b2c3d4.../         # Task for sample1
│   └── e5/f6g7h8.../         # Task for sample2
└── .nextflow.log
</pre>

<strong>What to Check:</strong>
<ul>
<li><strong>Results Files:</strong> <code>cat results/sample1.count</code> should show "2"</li>
<li><strong>Results Files:</strong> <code>cat results/sample2.count</code> should show "3"</li>
<li><strong>File Permissions:</strong> Results should be readable and in the correct location</li>
</ul>

<strong>Key Learning Points:</strong>
<ul>
<li><strong>publishDir:</strong> Copies important outputs to results/</li>
<li><strong>Parallel Processing:</strong> Both samples processed simultaneously</li>
<li><strong>Channel Operations:</strong> fromPath() found your FASTQ files</li>
</ul>
        `
    },
    fastqc: {
        title: "🔬 Exercise 3: FastQC Pipeline Results",
        content: `
<strong>Expected Directory Structure:</strong>
<pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; font-family: 'Courier New', monospace;">
nextflow-training/
├── fastqc_pipeline.nf         # Your script
├── data/                      # Input files
│   ├── sample1_R1.fastq
│   ├── sample1_R2.fastq
│   ├── sample2_R1.fastq
│   └── sample2_R2.fastq
├── results/                   # Published outputs
│   └── fastqc/               # FastQC reports
│       ├── sample1_R1_fastqc.html
│       ├── sample1_R1_fastqc.zip
│       ├── sample1_R2_fastqc.html
│       ├── sample1_R2_fastqc.zip
│       ├── sample2_R1_fastqc.html
│       ├── sample2_R1_fastqc.zip
│       ├── sample2_R2_fastqc.html
│       └── sample2_R2_fastqc.zip
├── work/                      # Temporary files
└── .nextflow.log
</pre>

<strong>What to Check:</strong>
<ul>
<li><strong>HTML Reports:</strong> Open <code>results/fastqc/sample1_R1_fastqc.html</code> in browser</li>
<li><strong>File Count:</strong> Should have 8 files total (4 HTML + 4 ZIP)</li>
<li><strong>Container Usage:</strong> Log should show Docker container being used</li>
</ul>

<strong>Advanced Concepts Demonstrated:</strong>
<ul>
<li><strong>Paired-end Data:</strong> fromFilePairs() handled R1/R2 automatically</li>
<li><strong>Containerization:</strong> FastQC ran in Docker container</li>
<li><strong>Organized Output:</strong> publishDir created clean results structure</li>
<li><strong>Tuple Processing:</strong> Sample ID and files processed together</li>
</ul>

<strong>Next Steps:</strong>
<ul>
<li>Try modifying the container version</li>
<li>Add more samples to see scaling</li>
<li>Explore the HTML reports in detail</li>
</ul>
        `
    }
};

document.querySelectorAll('.results-btn').forEach(btn => {
    btn.addEventListener('click', function() {
        const exercise = this.dataset.exercise;
        const result = exerciseResults[exercise];

        // Reset all buttons
        document.querySelectorAll('.results-btn').forEach(b => {
            b.style.background = b.style.background.replace('border-color', '');
            b.style.opacity = '0.7';
        });

        // Highlight selected button
        this.style.opacity = '1';

        // Show result
        document.getElementById('results-content').innerHTML =
            '<h5>' + result.title + '</5>' + result.content;
        document.getElementById('results-display').style.display = 'block';
    });
});
</script> <h2 id="interactive-learning-checklist">Interactive Learning Checklist<a class="headerlink" href="#interactive-learning-checklist" title="Permanent link">¶</a></h2> <h3 id="before-you-start-setup-checklist">Before You Start - Setup Checklist<a class="headerlink" href="#before-you-start-setup-checklist" title="Permanent link">¶</a></h3> <p><strong>Check if Nextflow is installed:</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a>nextflow<span class="w"> </span>-version
</span></code></pre></div><p></p> <details class="success"> <summary>Expected output</summary> <div class="language-text highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>nextflow version 23.10.0.5889
</span></code></pre></div> <p>If you see a version number, you're ready to go!</p> </details> <details class="failure"> <summary>If Nextflow is not installed</summary> <div class="language-text highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a>bash: nextflow: command not found
</span></code></pre></div> <p><strong>Install Nextflow:</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a>curl<span class="w"> </span>-s<span class="w"> </span>https://get.nextflow.io<span class="w"> </span><span class="p">|</span><span class="w"> </span>bash
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a>sudo<span class="w"> </span>mv<span class="w"> </span>nextflow<span class="w"> </span>/usr/local/bin/
</span></code></pre></div><p></p> </details> <p><strong>Check if Docker is available:</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a>docker<span class="w"> </span>--version
</span></code></pre></div><p></p> <details class="success"> <summary>Expected output</summary> <div class="language-text highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a>Docker version 24.0.7, build afdd53b
</span></code></pre></div> </details> <details class="info"> <summary>Alternative: Check for Singularity</summary> <div class="language-bash highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a>singularity<span class="w"> </span>--version
</span></code></pre></div> <p>Expected output: </p><div class="language-text highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a>singularity-ce version 3.11.4
</span></code></pre></div><p></p> </details> <p><strong>Create your workspace:</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="c1"># Create a directory for today's exercises</span>
</span><span id="__span-53-2"><a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a>mkdir<span class="w"> </span>nextflow-training
</span><span id="__span-53-3"><a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="nb">cd</span><span class="w"> </span>nextflow-training
</span><span id="__span-53-4"><a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a>
</span><span id="__span-53-5"><a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="c1"># Create subdirectories</span>
</span><span id="__span-53-6"><a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a>mkdir<span class="w"> </span>data<span class="w"> </span>results<span class="w"> </span>scripts
</span></code></pre></div><p></p> <details class="success"> <summary>Expected output</summary> <div class="language-text highlight"><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a># ls -la
</span><span id="__span-54-2"><a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a>total 20
</span><span id="__span-54-3"><a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a>drwxr-xr-x 5 user user 4096 Jan 15 09:00 .
</span><span id="__span-54-4"><a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a>drwxr-xr-x 3 user user 4096 Jan 15 09:00 ..
</span><span id="__span-54-5"><a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a>drwxr-xr-x 2 user user 4096 Jan 15 09:00 data
</span><span id="__span-54-6"><a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a>drwxr-xr-x 2 user user 4096 Jan 15 09:00 results
</span><span id="__span-54-7"><a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a>drwxr-xr-x 2 user user 4096 Jan 15 09:00 scripts
</span></code></pre></div> </details> <p><strong>Interactive Setup Checklist:</strong></p> <div id="setup-checklist" style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;"> <h4>📋 Setup Progress Tracker</h4> <div style="margin: 10px 0;"> <label style="display: flex; align-items: center; margin: 8px 0;"> <input type="checkbox" id="nextflow-check" style="margin-right: 10px;"> <span>Nextflow installed (run <code>nextflow -version</code>)</span> </label> <label style="display: flex; align-items: center; margin: 8px 0;"> <input type="checkbox" id="container-check" style="margin-right: 10px;"> <span>Container system available (Docker or Singularity)</span> </label> <label style="display: flex; align-items: center; margin: 8px 0;"> <input type="checkbox" id="workspace-check" style="margin-right: 10px;"> <span>Workspace created (<code>nextflow-training</code> directory)</span> </label> <label style="display: flex; align-items: center; margin: 8px 0;"> <input type="checkbox" id="terminal-check" style="margin-right: 10px;"> <span>Terminal ready (in the correct directory)</span> </label> </div> <div id="setup-progress" style="margin-top: 15px;"> <div style="background: #e0e0e0; border-radius: 10px; height: 20px; overflow: hidden;"> <div id="progress-bar" style="background: linear-gradient(90deg, #4caf50, #8bc34a); height: 100%; width: 0%; transition: width 0.3s ease;"></div> </div> <p id="progress-text" style="text-align: center; margin-top: 10px; font-weight: bold;">Setup Progress: 0/4 completed</p> </div> <div id="ready-message" style="display: none; background: #d4edda; color: #155724; padding: 15px; border-radius: 5px; margin-top: 15px; text-align: center;"> 🎉 <strong>Great! You're ready to start the exercises!</strong> </div> </div> <script>
function updateSetupProgress() {
    const checkboxes = document.querySelectorAll('#setup-checklist input[type="checkbox"]');
    const checked = document.querySelectorAll('#setup-checklist input[type="checkbox"]:checked').length;
    const total = checkboxes.length;
    const percentage = (checked / total) * 100;

    document.getElementById('progress-bar').style.width = percentage + '%';
    document.getElementById('progress-text').textContent = `Setup Progress: ${checked}/${total} completed`;

    if (checked === total) {
        document.getElementById('ready-message').style.display = 'block';
    } else {
        document.getElementById('ready-message').style.display = 'none';
    }
}

document.querySelectorAll('#setup-checklist input[type="checkbox"]').forEach(checkbox => {
    checkbox.addEventListener('change', updateSetupProgress);
});
</script> <h3 id="your-first-pipeline-step-by-step">Your First Pipeline - Step by Step<a class="headerlink" href="#your-first-pipeline-step-by-step" title="Permanent link">¶</a></h3> <div id="exercise-tracker" style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0;"> <h4>🎯 Exercise Progress Tracker</h4> <div class="exercise-item" style="margin: 15px 0; padding: 15px; border-left: 4px solid #ddd; background: white;"> <label style="display: flex; align-items: center;"> <input type="checkbox" class="exercise-checkbox" data-exercise="1" style="margin-right: 10px;"> <div> <strong>Exercise 1: Hello World</strong> <div style="font-size: 0.9em; color: #666; margin-top: 5px;"> Create and run your first Nextflow script with 3 samples </div> </div> </label> <div class="exercise-details" style="margin-top: 10px; display: none;"> <div style="background: #e8f5e8; padding: 10px; border-radius: 5px;"> ✅ <strong>Completed!</strong> You've successfully run your first Nextflow pipeline. <br><small>Next: Try modifying the sample names and run again.</small> </div> </div> </div> <div class="exercise-item" style="margin: 15px 0; padding: 15px; border-left: 4px solid #ddd; background: white;"> <label style="display: flex; align-items: center;"> <input type="checkbox" class="exercise-checkbox" data-exercise="2" style="margin-right: 10px;"> <div> <strong>Exercise 2: Read Counting</strong> <div style="font-size: 0.9em; color: #666; margin-top: 5px;"> Count reads in FASTQ files using Nextflow channels </div> </div> </label> <div class="exercise-details" style="margin-top: 10px; display: none;"> <div style="background: #e8f5e8; padding: 10px; border-radius: 5px;"> ✅ <strong>Completed!</strong> You've learned about channels and file processing. <br><small>Next: Try the FastQC pipeline with containers.</small> </div> </div> </div> <div class="exercise-item" style="margin: 15px 0; padding: 15px; border-left: 4px solid #ddd; background: white;"> <label style="display: flex; align-items: center;"> <input type="checkbox" class="exercise-checkbox" data-exercise="3" style="margin-right: 10px;"> <div> <strong>Exercise 3: FastQC Pipeline</strong> <div style="font-size: 0.9em; color: #666; margin-top: 5px;"> Quality control with containers and paired-end reads </div> </div> </label> <div class="exercise-details" style="margin-top: 10px; display: none;"> <div style="background: #e8f5e8; padding: 10px; border-radius: 5px;"> ✅ <strong>Completed!</strong> You've mastered containers and paired-end data. <br><small>Next: Explore the complete beginner pipeline.</small> </div> </div> </div> <div id="exercise-progress" style="margin-top: 20px;"> <div style="background: #e0e0e0; border-radius: 10px; height: 25px; overflow: hidden;"> <div id="exercise-progress-bar" style="background: linear-gradient(90deg, #2196f3, #21cbf3); height: 100%; width: 0%; transition: width 0.3s ease; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 0.9em;"></div> </div> <p id="exercise-progress-text" style="text-align: center; margin-top: 10px; font-weight: bold;">Exercise Progress: 0/3 completed</p> </div> <div id="exercises-complete" style="display: none; background: #d4edda; color: #155724; padding: 20px; border-radius: 5px; margin-top: 15px; text-align: center;"> 🎉 <strong>Congratulations!</strong> You've completed all the basic exercises! <br><br> <strong>You're now ready for:</strong> <ul style="text-align: left; margin-top: 10px;"> <li>Building more complex pipelines</li> <li>Using nf-core community pipelines</li> <li>Deploying on HPC clusters</li> <li>Working with your own data</li> </ul> </div> </div> <script>
function updateExerciseProgress() {
    const checkboxes = document.querySelectorAll('.exercise-checkbox');
    const checked = document.querySelectorAll('.exercise-checkbox:checked').length;
    const total = checkboxes.length;
    const percentage = (checked / total) * 100;

    document.getElementById('exercise-progress-bar').style.width = percentage + '%';
    document.getElementById('exercise-progress-bar').textContent = percentage > 0 ? Math.round(percentage) + '%' : '';
    document.getElementById('exercise-progress-text').textContent = `Exercise Progress: ${checked}/${total} completed`;

    if (checked === total) {
        document.getElementById('exercises-complete').style.display = 'block';
    } else {
        document.getElementById('exercises-complete').style.display = 'none';
    }
}

document.querySelectorAll('.exercise-checkbox').forEach(checkbox => {
    checkbox.addEventListener('change', function() {
        const exerciseItem = this.closest('.exercise-item');
        const details = exerciseItem.querySelector('.exercise-details');

        if (this.checked) {
            exerciseItem.style.borderLeftColor = '#4caf50';
            details.style.display = 'block';
        } else {
            exerciseItem.style.borderLeftColor = '#ddd';
            details.style.display = 'none';
        }

        updateExerciseProgress();
    });
});
</script> <h3 id="understanding-your-results">Understanding Your Results<a class="headerlink" href="#understanding-your-results" title="Permanent link">¶</a></h3> <ul class="task-list"> <li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled><span class="task-list-indicator"></span></label> <strong>FastQC Reports</strong>: Open the HTML files in a web browser</li> <li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled><span class="task-list-indicator"></span></label> <strong>Log Files</strong>: Check the <code>.nextflow.log</code> file for any errors</li> <li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled><span class="task-list-indicator"></span></label> <strong>Work Directory</strong>: Look in the <code>work/</code> folder to see intermediate files</li> <li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled><span class="task-list-indicator"></span></label> <strong>Results Directory</strong>: Confirm your outputs are where you expect them</li> </ul> <h2 id="common-beginner-questions-solutions">Common Beginner Questions &amp; Solutions<a class="headerlink" href="#common-beginner-questions-solutions" title="Permanent link">¶</a></h2> <h3 id="my-pipeline-failed-what-do-i-do">"My pipeline failed - what do I do?"<a class="headerlink" href="#my-pipeline-failed-what-do-i-do" title="Permanent link">¶</a></h3> <p><strong>Step 1: Check the error message</strong></p> <p>Look at the main Nextflow log: </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a>cat<span class="w"> </span>.nextflow.log
</span></code></pre></div><p></p> <p>Find specific errors: </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a>grep<span class="w"> </span>ERROR<span class="w"> </span>.nextflow.log
</span></code></pre></div><p></p> <details class="example"> <summary>Example error output</summary> <div class="language-text highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a>ERROR ~ Error executing process &gt; 'fastqc (sample1)'
</span><span id="__span-57-2"><a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a>
</span><span id="__span-57-3"><a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a>Caused by:
</span><span id="__span-57-4"><a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a>  Process `fastqc (sample1)` terminated with an error exit status (127)
</span><span id="__span-57-5"><a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a>
</span><span id="__span-57-6"><a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a>Command executed:
</span><span id="__span-57-7"><a id="__codelineno-57-7" name="__codelineno-57-7" href="#__codelineno-57-7"></a>  fastqc sample1_R1.fastq sample1_R2.fastq
</span><span id="__span-57-8"><a id="__codelineno-57-8" name="__codelineno-57-8" href="#__codelineno-57-8"></a>
</span><span id="__span-57-9"><a id="__codelineno-57-9" name="__codelineno-57-9" href="#__codelineno-57-9"></a>Command exit status:
</span><span id="__span-57-10"><a id="__codelineno-57-10" name="__codelineno-57-10" href="#__codelineno-57-10"></a>  127
</span><span id="__span-57-11"><a id="__codelineno-57-11" name="__codelineno-57-11" href="#__codelineno-57-11"></a>
</span><span id="__span-57-12"><a id="__codelineno-57-12" name="__codelineno-57-12" href="#__codelineno-57-12"></a>Work dir:
</span><span id="__span-57-13"><a id="__codelineno-57-13" name="__codelineno-57-13" href="#__codelineno-57-13"></a>  /path/to/work/a1/b2c3d4e5f6...
</span></code></pre></div> </details> <p><strong>Step 2: Check the work directory</strong></p> <p>Navigate to the failed task's work directory: </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="c1"># Use the work directory path from the error message</span>
</span><span id="__span-58-2"><a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="nb">cd</span><span class="w"> </span>work/a1/b2c3d4e5f6...
</span><span id="__span-58-3"><a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a>
</span><span id="__span-58-4"><a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a><span class="c1"># Check what the process tried to do</span>
</span><span id="__span-58-5"><a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a>cat<span class="w"> </span>.command.sh
</span></code></pre></div><p></p> <details class="success"> <summary>Expected output</summary> <div class="language-bash highlight"><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="ch">#!/bin/bash -ue</span>
</span><span id="__span-59-2"><a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a>fastqc<span class="w"> </span>sample1_R1.fastq<span class="w"> </span>sample1_R2.fastq
</span></code></pre></div> </details> <p>Check for error messages: </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a>cat<span class="w"> </span>.command.err
</span></code></pre></div><p></p> <details class="example"> <summary>Example error content</summary> <div class="language-text highlight"><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a>bash: fastqc: command not found
</span></code></pre></div> </details> <p>Check standard output: </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a>cat<span class="w"> </span>.command.out
</span></code></pre></div><p></p> <p><strong>Step 3: Understanding the error</strong></p> <p>In this example: - <strong>Exit status 127</strong>: Command not found - <strong>Error message</strong>: "fastqc: command not found" - <strong>Solution</strong>: FastQC is not installed or not in PATH</p> <h3 id="how-do-i-know-if-my-pipeline-is-working">"How do I know if my pipeline is working?"<a class="headerlink" href="#how-do-i-know-if-my-pipeline-is-working" title="Permanent link">¶</a></h3> <p><strong>Check pipeline status while running:</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="c1"># In another terminal, monitor the pipeline</span>
</span><span id="__span-63-2"><a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a>nextflow<span class="w"> </span>log
</span></code></pre></div><p></p> <details class="success"> <summary>Good signs - pipeline working correctly</summary> <div class="language-text highlight"><pre><span></span><code><span id="__span-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a>TIMESTAMP    DURATION  RUN NAME         STATUS   REVISION ID  SESSION ID                            COMMAND
</span><span id="__span-64-2"><a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a>2024-01-15   1m 30s    clever_volta     OK       a1b2c3d4     12345678-1234-1234-1234-123456789012  nextflow run hello.nf
</span></code></pre></div> <p><strong>What to look for:</strong> - <strong>STATUS: OK</strong> - Pipeline completed successfully - <strong>DURATION</strong> - Shows how long it took - <strong>No ERROR messages</strong> in the terminal output - <strong>Process completion</strong>: <code>[100%] X of X ✔</code></p> </details> <p><strong>Check your results:</strong> </p><div class="language-bash highlight"><pre><span></span><code><span id="__span-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="c1"># List output directory contents</span>
</span><span id="__span-65-2"><a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a>ls<span class="w"> </span>-la<span class="w"> </span>results/
</span><span id="__span-65-3"><a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a>
</span><span id="__span-65-4"><a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a><span class="c1"># Check if files were created</span>
</span><span id="__span-65-5"><a id="__codelineno-65-5" name="__codelineno-65-5" href="#__codelineno-65-5"></a>find<span class="w"> </span>results/<span class="w"> </span>-type<span class="w"> </span>f<span class="w"> </span>-name<span class="w"> </span><span class="s2">"*.html"</span><span class="w"> </span>-o<span class="w"> </span>-name<span class="w"> </span><span class="s2">"*.txt"</span><span class="w"> </span>-o<span class="w"> </span>-name<span class="w"> </span><span class="s2">"*.count"</span>
</span></code></pre></div><p></p> <details class="success"> <summary>Expected successful output</summary> <div class="language-text highlight"><pre><span></span><code><span id="__span-66-1"><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a># ls -la results/
</span><span id="__span-66-2"><a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a>total 12
</span><span id="__span-66-3"><a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a>drwxr-xr-x 3 user user 4096 Jan 15 10:30 .
</span><span id="__span-66-4"><a id="__codelineno-66-4" name="__codelineno-66-4" href="#__codelineno-66-4"></a>drwxr-xr-x 5 user user 4096 Jan 15 10:29 ..
</span><span id="__span-66-5"><a id="__codelineno-66-5" name="__codelineno-66-5" href="#__codelineno-66-5"></a>drwxr-xr-x 2 user user 4096 Jan 15 10:30 fastqc
</span><span id="__span-66-6"><a id="__codelineno-66-6" name="__codelineno-66-6" href="#__codelineno-66-6"></a>-rw-r--r-- 1 user user   42 Jan 15 10:30 sample1.count
</span><span id="__span-66-7"><a id="__codelineno-66-7" name="__codelineno-66-7" href="#__codelineno-66-7"></a>-rw-r--r-- 1 user user   38 Jan 15 10:30 sample2.count
</span><span id="__span-66-8"><a id="__codelineno-66-8" name="__codelineno-66-8" href="#__codelineno-66-8"></a>
</span><span id="__span-66-9"><a id="__codelineno-66-9" name="__codelineno-66-9" href="#__codelineno-66-9"></a># find results/ -type f
</span><span id="__span-66-10"><a id="__codelineno-66-10" name="__codelineno-66-10" href="#__codelineno-66-10"></a>results/sample1.count
</span><span id="__span-66-11"><a id="__codelineno-66-11" name="__codelineno-66-11" href="#__codelineno-66-11"></a>results/sample2.count
</span><span id="__span-66-12"><a id="__codelineno-66-12" name="__codelineno-66-12" href="#__codelineno-66-12"></a>results/fastqc/sample1_R1_fastqc.html
</span><span id="__span-66-13"><a id="__codelineno-66-13" name="__codelineno-66-13" href="#__codelineno-66-13"></a>results/fastqc/sample1_R2_fastqc.html
</span></code></pre></div> </details> <details class="warning"> <summary>Warning signs - something went wrong</summary> <div class="language-text highlight"><pre><span></span><code><span id="__span-67-1"><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a># Empty results directory
</span><span id="__span-67-2"><a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a>ls results/
</span><span id="__span-67-3"><a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a># (no output)
</span><span id="__span-67-4"><a id="__codelineno-67-4" name="__codelineno-67-4" href="#__codelineno-67-4"></a>
</span><span id="__span-67-5"><a id="__codelineno-67-5" name="__codelineno-67-5" href="#__codelineno-67-5"></a># Error in nextflow log
</span><span id="__span-67-6"><a id="__codelineno-67-6" name="__codelineno-67-6" href="#__codelineno-67-6"></a>TIMESTAMP    DURATION  RUN NAME         STATUS   REVISION ID  SESSION ID                            COMMAND
</span><span id="__span-67-7"><a id="__codelineno-67-7" name="__codelineno-67-7" href="#__codelineno-67-7"></a>2024-01-15   30s       sad_einstein     ERR      a1b2c3d4     12345678-1234-1234-1234-123456789012  nextflow run hello.nf
</span></code></pre></div> <p><strong>Red flags:</strong> - <strong>STATUS: ERR</strong> - Pipeline failed - <strong>Empty results directory</strong> - No outputs created - <strong>Red ERROR text</strong> in terminal - <strong>Process failures</strong>: <code>[50%] 1 of 2, failed: 1</code></p> </details> <h3 id="how-do-i-modify-the-pipeline-for-my-data">"How do I modify the pipeline for my data?"<a class="headerlink" href="#how-do-i-modify-the-pipeline-for-my-data" title="Permanent link">¶</a></h3> <p><strong>Start simple:</strong> 1. Change the <code>params.reads</code> path to point to your files 2. Make sure your file names match the pattern (e.g., <code>*_{R1,R2}.fastq</code>) 3. Test with just 1-2 samples first 4. Once it works, add more samples</p> <p><strong>File naming examples:</strong> </p><div class="language-text highlight"><pre><span></span><code><span id="__span-68-1"><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a>Good:
</span><span id="__span-68-2"><a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a>sample1_R1.fastq, sample1_R2.fastq
</span><span id="__span-68-3"><a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a>sample2_R1.fastq, sample2_R2.fastq
</span><span id="__span-68-4"><a id="__codelineno-68-4" name="__codelineno-68-4" href="#__codelineno-68-4"></a>
</span><span id="__span-68-5"><a id="__codelineno-68-5" name="__codelineno-68-5" href="#__codelineno-68-5"></a>Also good:
</span><span id="__span-68-6"><a id="__codelineno-68-6" name="__codelineno-68-6" href="#__codelineno-68-6"></a>data_001_R1.fastq.gz, data_001_R2.fastq.gz
</span><span id="__span-68-7"><a id="__codelineno-68-7" name="__codelineno-68-7" href="#__codelineno-68-7"></a>data_002_R1.fastq.gz, data_002_R2.fastq.gz
</span><span id="__span-68-8"><a id="__codelineno-68-8" name="__codelineno-68-8" href="#__codelineno-68-8"></a>
</span><span id="__span-68-9"><a id="__codelineno-68-9" name="__codelineno-68-9" href="#__codelineno-68-9"></a>Won't work:
</span><span id="__span-68-10"><a id="__codelineno-68-10" name="__codelineno-68-10" href="#__codelineno-68-10"></a>sample1_forward.fastq, sample1_reverse.fastq
</span><span id="__span-68-11"><a id="__codelineno-68-11" name="__codelineno-68-11" href="#__codelineno-68-11"></a>sample1_1.fastq, sample1_2.fastq
</span></code></pre></div><p></p> <h2 id="next-steps-for-beginners">Next Steps for Beginners<a class="headerlink" href="#next-steps-for-beginners" title="Permanent link">¶</a></h2> <h3 id="once-youre-comfortable-with-basic-pipelines">Once you're comfortable with basic pipelines:<a class="headerlink" href="#once-youre-comfortable-with-basic-pipelines" title="Permanent link">¶</a></h3> <ol> <li><strong>Add more processes</strong>: Try adding genome annotation with Prokka</li> <li><strong>Use parameters</strong>: Make your pipeline configurable</li> <li><strong>Add error handling</strong>: Make your pipeline more robust</li> <li><strong>Try nf-core</strong>: Use community-built pipelines</li> <li><strong>Document your work</strong>: Create clear documentation and examples</li> </ol> <h3 id="recommended-learning-path">Recommended Learning Path:<a class="headerlink" href="#recommended-learning-path" title="Permanent link">¶</a></h3> <ol> <li><strong>Week 1</strong>: Master the basic exercises above</li> <li><strong>Week 2</strong>: Try the complete beginner pipeline</li> <li><strong>Week 3</strong>: Modify pipelines for your own data</li> <li><strong>Week 4</strong>: Explore nf-core pipelines</li> <li><strong>Month 2</strong>: Start building your own custom pipelines</li> </ol> <p>Remember: <strong>Everyone starts as a beginner!</strong> The key is to practice with small examples and gradually build complexity. Don't try to create a complex pipeline on your first day.</p> <div id="troubleshooting-guide" style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 20px; border-radius: 8px; margin: 20px 0;"> <h4>🔧 Interactive Troubleshooting Guide</h4> <p>Having issues? Click on your problem to get specific help:</p> <div style="margin: 15px 0;"> <button class="trouble-btn" data-issue="install" style="display: block; width: 100%; padding: 12px; margin: 8px 0; background: #f8f9fa; border: 1px solid #ddd; border-radius: 5px; text-align: left; cursor: pointer;"> 🚫 Nextflow is not installed or not found </button> <button class="trouble-btn" data-issue="permission" style="display: block; width: 100%; padding: 12px; margin: 8px 0; background: #f8f9fa; border: 1px solid #ddd; border-radius: 5px; text-align: left; cursor: pointer;"> 🔒 Permission denied errors </button> <button class="trouble-btn" data-issue="container" style="display: block; width: 100%; padding: 12px; margin: 8px 0; background: #f8f9fa; border: 1px solid #ddd; border-radius: 5px; text-align: left; cursor: pointer;"> 🐳 Docker/container errors </button> <button class="trouble-btn" data-issue="files" style="display: block; width: 100%; padding: 12px; margin: 8px 0; background: #f8f9fa; border: 1px solid #ddd; border-radius: 5px; text-align: left; cursor: pointer;"> 📁 No input files found </button> <button class="trouble-btn" data-issue="memory" style="display: block; width: 100%; padding: 12px; margin: 8px 0; background: #f8f9fa; border: 1px solid #ddd; border-radius: 5px; text-align: left; cursor: pointer;"> 💾 Out of memory errors </button> </div> <div id="solution-area" style="margin-top: 20px; padding: 15px; background: white; border-radius: 5px; display: none;"> <div id="solution-content"></div> </div> </div> <script>
const solutions = {
    install: {
        title: "🚫 Nextflow Installation Issues",
        content: `
<strong>Problem:</strong> Command not found or installation issues
<br><br>
<strong>Solutions:</strong>
<ol>
<li><strong>Install Nextflow:</strong>
<pre style="background: #f5f5f5; padding: 10px; border-radius: 3px;">curl -s https://get.nextflow.io | bash
sudo mv nextflow /usr/local/bin/</pre>
</li>
<li><strong>Check your PATH:</strong>
<pre style="background: #f5f5f5; padding: 10px; border-radius: 3px;">echo $PATH
which nextflow</pre>
</li>
<li><strong>Alternative installation:</strong>
<pre style="background: #f5f5f5; padding: 10px; border-radius: 3px;">conda install -c bioconda nextflow</pre>
<small>Requires <a href="https://docs.conda.io/en/latest/">Conda</a> or <a href="https://mamba.readthedocs.io/">Mamba</a></small>
</li>
</ol>
        `
    },
    permission: {
        title: "🔒 Permission Denied Errors",
        content: `
<strong>Problem:</strong> Cannot write files or execute commands
<br><br>
<strong>Solutions:</strong>
<ol>
<li><strong>Check directory permissions:</strong>
<pre style="background: #f5f5f5; padding: 10px; border-radius: 3px;">ls -la
chmod 755 .</pre>
</li>
<li><strong>Use your home directory:</strong>
<pre style="background: #f5f5f5; padding: 10px; border-radius: 3px;">cd ~
mkdir nextflow-training
cd nextflow-training</pre>
</li>
<li><strong>Check file ownership:</strong>
<pre style="background: #f5f5f5; padding: 10px; border-radius: 3px;">whoami
ls -la *.nf</pre>
</li>
</ol>
        `
    },
    container: {
        title: "🐳 Docker/Container Errors",
        content: `
<strong>Problem:</strong> Container-related failures
<br><br>
<strong>Solutions:</strong>
<ol>
<li><strong>Check Docker status:</strong>
<pre style="background: #f5f5f5; padding: 10px; border-radius: 3px;">docker --version
docker ps</pre>
</li>
<li><strong>Start Docker service:</strong>
<pre style="background: #f5f5f5; padding: 10px; border-radius: 3px;">sudo systemctl start docker</pre>
</li>
<li><strong>Use Singularity instead:</strong>
<pre style="background: #f5f5f5; padding: 10px; border-radius: 3px;">nextflow run script.nf -profile singularity</pre>
</li>
<li><strong>Disable containers for testing:</strong>
<pre style="background: #f5f5f5; padding: 10px; border-radius: 3px;"># Remove container lines from your script temporarily</pre>
</li>
</ol>
        `
    },
    files: {
        title: "📁 No Input Files Found",
        content: `
<strong>Problem:</strong> Pipeline can't find input files
<br><br>
<strong>Solutions:</strong>
<ol>
<li><strong>Check file paths:</strong>
<pre style="background: #f5f5f5; padding: 10px; border-radius: 3px;">ls data/
ls data/*.fastq</pre>
</li>
<li><strong>Use absolute paths:</strong>
<pre style="background: #f5f5f5; padding: 10px; border-radius: 3px;">nextflow run script.nf --reads '/full/path/to/data/*.fastq'</pre>
</li>
<li><strong>Check file naming pattern:</strong>
<pre style="background: #f5f5f5; padding: 10px; border-radius: 3px;"># Files should match pattern like:
# sample1_R1.fastq, sample1_R2.fastq
# sample2_R1.fastq, sample2_R2.fastq</pre>
</li>
<li><strong>Create test data:</strong>
<pre style="background: #f5f5f5; padding: 10px; border-radius: 3px;">mkdir -p data
echo -e "@read1\\nACGT\\n+\\nIIII" > data/test_R1.fastq
echo -e "@read1\\nTGCA\\n+\\nIIII" > data/test_R2.fastq</pre>
</li>
</ol>
        `
    },
    memory: {
        title: "💾 Out of Memory Errors",
        content: `
<strong>Problem:</strong> Process killed due to memory limits
<br><br>
<strong>Solutions:</strong>
<ol>
<li><strong>Reduce sample size:</strong>
<pre style="background: #f5f5f5; padding: 10px; border-radius: 3px;"># Process fewer samples at once
# Use smaller test files</pre>
</li>
<li><strong>Increase memory allocation:</strong>
<pre style="background: #f5f5f5; padding: 10px; border-radius: 3px;">process myProcess {
    memory '8 GB'  // Increase from default
    // ... rest of process
}</pre>
</li>
<li><strong>Check available memory:</strong>
<pre style="background: #f5f5f5; padding: 10px; border-radius: 3px;">free -h
top</pre>
</li>
<li><strong>Use a cluster or cloud:</strong>
<pre style="background: #f5f5f5; padding: 10px; border-radius: 3px;">nextflow run script.nf -profile slurm</pre>
</li>
</ol>
        `
    }
};

document.querySelectorAll('.trouble-btn').forEach(btn => {
    btn.addEventListener('click', function() {
        const issue = this.dataset.issue;
        const solution = solutions[issue];

        // Reset all buttons
        document.querySelectorAll('.trouble-btn').forEach(b => {
            b.style.background = '#f8f9fa';
            b.style.borderColor = '#ddd';
        });

        // Highlight selected button
        this.style.background = '#e3f2fd';
        this.style.borderColor = '#2196f3';

        // Show solution
        document.getElementById('solution-content').innerHTML =
            '<h5>' + solution.title + '</5>' + solution.content;
        document.getElementById('solution-area').style.display = 'block';
    });
});
</script> <div class="language-text highlight"><pre><span></span><code><span id="__span-69-1"><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a>### The Workflow Management Solution
</span><span id="__span-69-2"><a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a>
</span><span id="__span-69-3"><a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a>With Nextflow, you define the workflow once and it handles:
</span><span id="__span-69-4"><a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a>
</span><span id="__span-69-5"><a id="__codelineno-69-5" name="__codelineno-69-5" href="#__codelineno-69-5"></a>- **Automatic parallelization** of all 100 samples
</span><span id="__span-69-6"><a id="__codelineno-69-6" name="__codelineno-69-6" href="#__codelineno-69-6"></a>- **Intelligent resource management** (memory, CPUs)
</span><span id="__span-69-7"><a id="__codelineno-69-7" name="__codelineno-69-7" href="#__codelineno-69-7"></a>- **Automatic retry** of failed tasks with different resources
</span><span id="__span-69-8"><a id="__codelineno-69-8" name="__codelineno-69-8" href="#__codelineno-69-8"></a>- **Resume capability** from the last successful step
</span><span id="__span-69-9"><a id="__codelineno-69-9" name="__codelineno-69-9" href="#__codelineno-69-9"></a>- **Container integration** for reproducibility
</span><span id="__span-69-10"><a id="__codelineno-69-10" name="__codelineno-69-10" href="#__codelineno-69-10"></a>- **Detailed execution reports** and monitoring
</span><span id="__span-69-11"><a id="__codelineno-69-11" name="__codelineno-69-11" href="#__codelineno-69-11"></a>- **Platform portability** (laptop → HPC → cloud)
</span><span id="__span-69-12"><a id="__codelineno-69-12" name="__codelineno-69-12" href="#__codelineno-69-12"></a>
</span><span id="__span-69-13"><a id="__codelineno-69-13" name="__codelineno-69-13" href="#__codelineno-69-13"></a>## Part 2: Nextflow Architecture and Core Concepts
</span><span id="__span-69-14"><a id="__codelineno-69-14" name="__codelineno-69-14" href="#__codelineno-69-14"></a>
</span><span id="__span-69-15"><a id="__codelineno-69-15" name="__codelineno-69-15" href="#__codelineno-69-15"></a>### Nextflow's Key Components
</span><span id="__span-69-16"><a id="__codelineno-69-16" name="__codelineno-69-16" href="#__codelineno-69-16"></a>
</span><span id="__span-69-17"><a id="__codelineno-69-17" name="__codelineno-69-17" href="#__codelineno-69-17"></a>#### 1. **Nextflow Engine**
</span><span id="__span-69-18"><a id="__codelineno-69-18" name="__codelineno-69-18" href="#__codelineno-69-18"></a>
</span><span id="__span-69-19"><a id="__codelineno-69-19" name="__codelineno-69-19" href="#__codelineno-69-19"></a>The core runtime that interprets and executes your pipeline:
</span><span id="__span-69-20"><a id="__codelineno-69-20" name="__codelineno-69-20" href="#__codelineno-69-20"></a>
</span><span id="__span-69-21"><a id="__codelineno-69-21" name="__codelineno-69-21" href="#__codelineno-69-21"></a>- Parses the workflow script
</span><span id="__span-69-22"><a id="__codelineno-69-22" name="__codelineno-69-22" href="#__codelineno-69-22"></a>- Manages task scheduling and execution
</span><span id="__span-69-23"><a id="__codelineno-69-23" name="__codelineno-69-23" href="#__codelineno-69-23"></a>- Handles data flow between processes
</span><span id="__span-69-24"><a id="__codelineno-69-24" name="__codelineno-69-24" href="#__codelineno-69-24"></a>- Provides caching and resume capabilities
</span><span id="__span-69-25"><a id="__codelineno-69-25" name="__codelineno-69-25" href="#__codelineno-69-25"></a>
</span><span id="__span-69-26"><a id="__codelineno-69-26" name="__codelineno-69-26" href="#__codelineno-69-26"></a>#### 2. **Work Directory**
</span><span id="__span-69-27"><a id="__codelineno-69-27" name="__codelineno-69-27" href="#__codelineno-69-27"></a>
</span><span id="__span-69-28"><a id="__codelineno-69-28" name="__codelineno-69-28" href="#__codelineno-69-28"></a>Where Nextflow stores intermediate files and task execution:
</span><span id="__span-69-29"><a id="__codelineno-69-29" name="__codelineno-69-29" href="#__codelineno-69-29"></a>
</span><span id="__span-69-30"><a id="__codelineno-69-30" name="__codelineno-69-30" href="#__codelineno-69-30"></a>```text
</span><span id="__span-69-31"><a id="__codelineno-69-31" name="__codelineno-69-31" href="#__codelineno-69-31"></a>work/
</span><span id="__span-69-32"><a id="__codelineno-69-32" name="__codelineno-69-32" href="#__codelineno-69-32"></a>├── 12/
</span><span id="__span-69-33"><a id="__codelineno-69-33" name="__codelineno-69-33" href="#__codelineno-69-33"></a>│   └── 3456789abcdef.../
</span><span id="__span-69-34"><a id="__codelineno-69-34" name="__codelineno-69-34" href="#__codelineno-69-34"></a>│       ├── .command.sh      # The actual script executed
</span><span id="__span-69-35"><a id="__codelineno-69-35" name="__codelineno-69-35" href="#__codelineno-69-35"></a>│       ├── .command.run     # Wrapper script
</span><span id="__span-69-36"><a id="__codelineno-69-36" name="__codelineno-69-36" href="#__codelineno-69-36"></a>│       ├── .command.out     # Standard output
</span><span id="__span-69-37"><a id="__codelineno-69-37" name="__codelineno-69-37" href="#__codelineno-69-37"></a>│       ├── .command.err     # Standard error
</span><span id="__span-69-38"><a id="__codelineno-69-38" name="__codelineno-69-38" href="#__codelineno-69-38"></a>│       ├── .command.log     # Execution log
</span><span id="__span-69-39"><a id="__codelineno-69-39" name="__codelineno-69-39" href="#__codelineno-69-39"></a>│       ├── .exitcode       # Exit status
</span><span id="__span-69-40"><a id="__codelineno-69-40" name="__codelineno-69-40" href="#__codelineno-69-40"></a>│       └── input_file.fastq # Staged input files
</span><span id="__span-69-41"><a id="__codelineno-69-41" name="__codelineno-69-41" href="#__codelineno-69-41"></a>└── ab/
</span><span id="__span-69-42"><a id="__codelineno-69-42" name="__codelineno-69-42" href="#__codelineno-69-42"></a>    └── cdef123456789.../
</span><span id="__span-69-43"><a id="__codelineno-69-43" name="__codelineno-69-43" href="#__codelineno-69-43"></a>        └── ...
</span></code></pre></div> <h4 id="3-executors">3. <strong>Executors</strong><a class="headerlink" href="#3-executors" title="Permanent link">¶</a></h4> <p>Interface with different computing platforms:</p> <ul> <li><strong>Local</strong>: Run on your laptop/desktop</li> <li><strong><a href="https://slurm.schedmd.com/documentation.html">SLURM</a></strong>: Submit jobs to HPC clusters</li> <li><strong><a href="https://aws.amazon.com/batch/">AWS Batch</a></strong>: Execute on Amazon cloud</li> <li><strong><a href="https://kubernetes.io/">Kubernetes</a></strong>: Run on container orchestration platforms</li> </ul> <h3 id="core-nextflow-components">Core Nextflow Components<a class="headerlink" href="#core-nextflow-components" title="Permanent link">¶</a></h3> <h4 id="process"><strong>Process</strong><a class="headerlink" href="#process" title="Permanent link">¶</a></h4> <p>A process defines a task to be executed. It's the basic building block of a Nextflow pipeline:</p> <div class="language-text highlight"><pre><span></span><code><span id="__span-70-1"><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a>process FASTQC {
</span><span id="__span-70-2"><a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a>    // Process directives
</span><span id="__span-70-3"><a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a>    tag "$sample_id"
</span><span id="__span-70-4"><a id="__codelineno-70-4" name="__codelineno-70-4" href="#__codelineno-70-4"></a>    container 'biocontainers/fastqc:v0.11.9_cv8'
</span><span id="__span-70-5"><a id="__codelineno-70-5" name="__codelineno-70-5" href="#__codelineno-70-5"></a>    publishDir "${params.outdir}/fastqc", mode: 'copy'
</span><span id="__span-70-6"><a id="__codelineno-70-6" name="__codelineno-70-6" href="#__codelineno-70-6"></a>
</span><span id="__span-70-7"><a id="__codelineno-70-7" name="__codelineno-70-7" href="#__codelineno-70-7"></a>    input:
</span><span id="__span-70-8"><a id="__codelineno-70-8" name="__codelineno-70-8" href="#__codelineno-70-8"></a>    tuple val(sample_id), path(reads)
</span><span id="__span-70-9"><a id="__codelineno-70-9" name="__codelineno-70-9" href="#__codelineno-70-9"></a>
</span><span id="__span-70-10"><a id="__codelineno-70-10" name="__codelineno-70-10" href="#__codelineno-70-10"></a>    output:
</span><span id="__span-70-11"><a id="__codelineno-70-11" name="__codelineno-70-11" href="#__codelineno-70-11"></a>    tuple val(sample_id), path("*_fastqc.{html,zip}"), emit: reports
</span><span id="__span-70-12"><a id="__codelineno-70-12" name="__codelineno-70-12" href="#__codelineno-70-12"></a>
</span><span id="__span-70-13"><a id="__codelineno-70-13" name="__codelineno-70-13" href="#__codelineno-70-13"></a>    script:
</span><span id="__span-70-14"><a id="__codelineno-70-14" name="__codelineno-70-14" href="#__codelineno-70-14"></a>    """
</span><span id="__span-70-15"><a id="__codelineno-70-15" name="__codelineno-70-15" href="#__codelineno-70-15"></a>    fastqc ${reads}
</span><span id="__span-70-16"><a id="__codelineno-70-16" name="__codelineno-70-16" href="#__codelineno-70-16"></a>    """
</span><span id="__span-70-17"><a id="__codelineno-70-17" name="__codelineno-70-17" href="#__codelineno-70-17"></a>}
</span></code></pre></div> <p><strong>Key Elements:</strong></p> <ul> <li><strong>Directives</strong>: Configure how the process runs (container, resources, etc.)</li> <li><strong>Input</strong>: Define what data the process expects</li> <li><strong>Output</strong>: Define what data the process produces</li> <li><strong>Script</strong>: The actual command(s) to execute</li> </ul> <h4 id="channel"><strong>Channel</strong><a class="headerlink" href="#channel" title="Permanent link">¶</a></h4> <p>Channels are asynchronous data streams that connect processes:</p> <div class="language-text highlight"><pre><span></span><code><span id="__span-71-1"><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a>// Create channel from file pairs
</span><span id="__span-71-2"><a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a>reads_ch = Channel.fromFilePairs("data/*_R{1,2}.fastq.gz")
</span><span id="__span-71-3"><a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a>
</span><span id="__span-71-4"><a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a>// Create channel from a list
</span><span id="__span-71-5"><a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a>samples_ch = Channel.from(['sample1', 'sample2', 'sample3'])
</span><span id="__span-71-6"><a id="__codelineno-71-6" name="__codelineno-71-6" href="#__codelineno-71-6"></a>
</span><span id="__span-71-7"><a id="__codelineno-71-7" name="__codelineno-71-7" href="#__codelineno-71-7"></a>// Create channel from a file
</span><span id="__span-71-8"><a id="__codelineno-71-8" name="__codelineno-71-8" href="#__codelineno-71-8"></a>reference_ch = Channel.fromPath("reference.fasta")
</span></code></pre></div> <p><strong>Channel Types:</strong></p> <ul> <li><strong>Queue channels</strong>: Can be consumed only once</li> <li><strong>Value channels</strong>: Can be consumed multiple times</li> <li><strong>File channels</strong>: Handle file paths and staging</li> </ul> <h4 id="workflow"><strong>Workflow</strong><a class="headerlink" href="#workflow" title="Permanent link">¶</a></h4> <p>The workflow block orchestrates process execution:</p> <div class="language-text highlight"><pre><span></span><code><span id="__span-72-1"><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a>workflow {
</span><span id="__span-72-2"><a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a>    // Define input channels
</span><span id="__span-72-3"><a id="__codelineno-72-3" name="__codelineno-72-3" href="#__codelineno-72-3"></a>    reads_ch = Channel.fromFilePairs(params.reads)
</span><span id="__span-72-4"><a id="__codelineno-72-4" name="__codelineno-72-4" href="#__codelineno-72-4"></a>
</span><span id="__span-72-5"><a id="__codelineno-72-5" name="__codelineno-72-5" href="#__codelineno-72-5"></a>    // Execute processes
</span><span id="__span-72-6"><a id="__codelineno-72-6" name="__codelineno-72-6" href="#__codelineno-72-6"></a>    FASTQC(reads_ch)
</span><span id="__span-72-7"><a id="__codelineno-72-7" name="__codelineno-72-7" href="#__codelineno-72-7"></a>
</span><span id="__span-72-8"><a id="__codelineno-72-8" name="__codelineno-72-8" href="#__codelineno-72-8"></a>    // Chain processes together
</span><span id="__span-72-9"><a id="__codelineno-72-9" name="__codelineno-72-9" href="#__codelineno-72-9"></a>    TRIMMOMATIC(reads_ch)
</span><span id="__span-72-10"><a id="__codelineno-72-10" name="__codelineno-72-10" href="#__codelineno-72-10"></a>    SPADES(TRIMMOMATIC.out.trimmed)
</span><span id="__span-72-11"><a id="__codelineno-72-11" name="__codelineno-72-11" href="#__codelineno-72-11"></a>
</span><span id="__span-72-12"><a id="__codelineno-72-12" name="__codelineno-72-12" href="#__codelineno-72-12"></a>    // Access outputs
</span><span id="__span-72-13"><a id="__codelineno-72-13" name="__codelineno-72-13" href="#__codelineno-72-13"></a>    FASTQC.out.reports.view()
</span><span id="__span-72-14"><a id="__codelineno-72-14" name="__codelineno-72-14" href="#__codelineno-72-14"></a>}
</span></code></pre></div> <h2 id="part-3-hands-on-exercises">Part 3: Hands-on Exercises<a class="headerlink" href="#part-3-hands-on-exercises" title="Permanent link">¶</a></h2> <h3 id="exercise-1-installation-and-setup-15-minutes">Exercise 1: Installation and Setup (15 minutes)<a class="headerlink" href="#exercise-1-installation-and-setup-15-minutes" title="Permanent link">¶</a></h3> <p><strong>Objective</strong>: Install Nextflow and verify the environment</p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-73-1"><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="c1"># Check Java version (must be 11 or later)</span>
</span><span id="__span-73-2"><a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a>java<span class="w"> </span>-version
</span><span id="__span-73-3"><a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a>
</span><span id="__span-73-4"><a id="__codelineno-73-4" name="__codelineno-73-4" href="#__codelineno-73-4"></a><span class="c1"># Install Nextflow</span>
</span><span id="__span-73-5"><a id="__codelineno-73-5" name="__codelineno-73-5" href="#__codelineno-73-5"></a>curl<span class="w"> </span>-s<span class="w"> </span>https://get.nextflow.io<span class="w"> </span><span class="p">|</span><span class="w"> </span>bash
</span><span id="__span-73-6"><a id="__codelineno-73-6" name="__codelineno-73-6" href="#__codelineno-73-6"></a>
</span><span id="__span-73-7"><a id="__codelineno-73-7" name="__codelineno-73-7" href="#__codelineno-73-7"></a><span class="c1"># Make executable and add to PATH</span>
</span><span id="__span-73-8"><a id="__codelineno-73-8" name="__codelineno-73-8" href="#__codelineno-73-8"></a>chmod<span class="w"> </span>+x<span class="w"> </span>nextflow
</span><span id="__span-73-9"><a id="__codelineno-73-9" name="__codelineno-73-9" href="#__codelineno-73-9"></a>sudo<span class="w"> </span>mv<span class="w"> </span>nextflow<span class="w"> </span>/usr/local/bin/
</span><span id="__span-73-10"><a id="__codelineno-73-10" name="__codelineno-73-10" href="#__codelineno-73-10"></a>
</span><span id="__span-73-11"><a id="__codelineno-73-11" name="__codelineno-73-11" href="#__codelineno-73-11"></a><span class="c1"># Verify installation</span>
</span><span id="__span-73-12"><a id="__codelineno-73-12" name="__codelineno-73-12" href="#__codelineno-73-12"></a>nextflow<span class="w"> </span>info
</span><span id="__span-73-13"><a id="__codelineno-73-13" name="__codelineno-73-13" href="#__codelineno-73-13"></a>
</span><span id="__span-73-14"><a id="__codelineno-73-14" name="__codelineno-73-14" href="#__codelineno-73-14"></a><span class="c1"># Test with hello world</span>
</span><span id="__span-73-15"><a id="__codelineno-73-15" name="__codelineno-73-15" href="#__codelineno-73-15"></a>nextflow<span class="w"> </span>run<span class="w"> </span>hello
</span></code></pre></div> <h3 id="exercise-2-your-first-nextflow-script-30-minutes">Exercise 2: Your First Nextflow Script (30 minutes)<a class="headerlink" href="#exercise-2-your-first-nextflow-script-30-minutes" title="Permanent link">¶</a></h3> <p><strong>Objective</strong>: Create and run a simple Nextflow pipeline</p> <p>Create a file called <code>word_count.nf</code>:</p> <div class="language-text highlight"><pre><span></span><code><span id="__span-74-1"><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a>#!/usr/bin/env nextflow
</span><span id="__span-74-2"><a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a>
</span><span id="__span-74-3"><a id="__codelineno-74-3" name="__codelineno-74-3" href="#__codelineno-74-3"></a>// Pipeline parameters
</span><span id="__span-74-4"><a id="__codelineno-74-4" name="__codelineno-74-4" href="#__codelineno-74-4"></a>params.input = "data/yeast/reads/ref1_1.fq.gz"
</span><span id="__span-74-5"><a id="__codelineno-74-5" name="__codelineno-74-5" href="#__codelineno-74-5"></a>
</span><span id="__span-74-6"><a id="__codelineno-74-6" name="__codelineno-74-6" href="#__codelineno-74-6"></a>// Input channel
</span><span id="__span-74-7"><a id="__codelineno-74-7" name="__codelineno-74-7" href="#__codelineno-74-7"></a>input_ch = Channel.fromPath(params.input)
</span><span id="__span-74-8"><a id="__codelineno-74-8" name="__codelineno-74-8" href="#__codelineno-74-8"></a>
</span><span id="__span-74-9"><a id="__codelineno-74-9" name="__codelineno-74-9" href="#__codelineno-74-9"></a>// Main workflow
</span><span id="__span-74-10"><a id="__codelineno-74-10" name="__codelineno-74-10" href="#__codelineno-74-10"></a>workflow {
</span><span id="__span-74-11"><a id="__codelineno-74-11" name="__codelineno-74-11" href="#__codelineno-74-11"></a>    NUM_LINES(input_ch)
</span><span id="__span-74-12"><a id="__codelineno-74-12" name="__codelineno-74-12" href="#__codelineno-74-12"></a>    NUM_LINES.out.view()
</span><span id="__span-74-13"><a id="__codelineno-74-13" name="__codelineno-74-13" href="#__codelineno-74-13"></a>}
</span><span id="__span-74-14"><a id="__codelineno-74-14" name="__codelineno-74-14" href="#__codelineno-74-14"></a>
</span><span id="__span-74-15"><a id="__codelineno-74-15" name="__codelineno-74-15" href="#__codelineno-74-15"></a>// Process definition
</span><span id="__span-74-16"><a id="__codelineno-74-16" name="__codelineno-74-16" href="#__codelineno-74-16"></a>process NUM_LINES {
</span><span id="__span-74-17"><a id="__codelineno-74-17" name="__codelineno-74-17" href="#__codelineno-74-17"></a>    input:
</span><span id="__span-74-18"><a id="__codelineno-74-18" name="__codelineno-74-18" href="#__codelineno-74-18"></a>    path read
</span><span id="__span-74-19"><a id="__codelineno-74-19" name="__codelineno-74-19" href="#__codelineno-74-19"></a>
</span><span id="__span-74-20"><a id="__codelineno-74-20" name="__codelineno-74-20" href="#__codelineno-74-20"></a>    output:
</span><span id="__span-74-21"><a id="__codelineno-74-21" name="__codelineno-74-21" href="#__codelineno-74-21"></a>    stdout
</span><span id="__span-74-22"><a id="__codelineno-74-22" name="__codelineno-74-22" href="#__codelineno-74-22"></a>
</span><span id="__span-74-23"><a id="__codelineno-74-23" name="__codelineno-74-23" href="#__codelineno-74-23"></a>    script:
</span><span id="__span-74-24"><a id="__codelineno-74-24" name="__codelineno-74-24" href="#__codelineno-74-24"></a>    """
</span><span id="__span-74-25"><a id="__codelineno-74-25" name="__codelineno-74-25" href="#__codelineno-74-25"></a>    printf '${read}\\t'
</span><span id="__span-74-26"><a id="__codelineno-74-26" name="__codelineno-74-26" href="#__codelineno-74-26"></a>    gunzip -c ${read} | wc -l
</span><span id="__span-74-27"><a id="__codelineno-74-27" name="__codelineno-74-27" href="#__codelineno-74-27"></a>    """
</span><span id="__span-74-28"><a id="__codelineno-74-28" name="__codelineno-74-28" href="#__codelineno-74-28"></a>}
</span></code></pre></div> <p><strong>Run the pipeline:</strong></p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-75-1"><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="c1"># Create test data directory</span>
</span><span id="__span-75-2"><a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>data/yeast/reads
</span><span id="__span-75-3"><a id="__codelineno-75-3" name="__codelineno-75-3" href="#__codelineno-75-3"></a>
</span><span id="__span-75-4"><a id="__codelineno-75-4" name="__codelineno-75-4" href="#__codelineno-75-4"></a><span class="c1"># Download test file (or create a dummy file)</span>
</span><span id="__span-75-5"><a id="__codelineno-75-5" name="__codelineno-75-5" href="#__codelineno-75-5"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">"@read1\nACGT\n+\nIIII"</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>gzip<span class="w"> </span>&gt;<span class="w"> </span>data/yeast/reads/ref1_1.fq.gz
</span><span id="__span-75-6"><a id="__codelineno-75-6" name="__codelineno-75-6" href="#__codelineno-75-6"></a>
</span><span id="__span-75-7"><a id="__codelineno-75-7" name="__codelineno-75-7" href="#__codelineno-75-7"></a><span class="c1"># Run the pipeline</span>
</span><span id="__span-75-8"><a id="__codelineno-75-8" name="__codelineno-75-8" href="#__codelineno-75-8"></a>nextflow<span class="w"> </span>run<span class="w"> </span>word_count.nf
</span><span id="__span-75-9"><a id="__codelineno-75-9" name="__codelineno-75-9" href="#__codelineno-75-9"></a>
</span><span id="__span-75-10"><a id="__codelineno-75-10" name="__codelineno-75-10" href="#__codelineno-75-10"></a><span class="c1"># Examine the work directory</span>
</span><span id="__span-75-11"><a id="__codelineno-75-11" name="__codelineno-75-11" href="#__codelineno-75-11"></a>ls<span class="w"> </span>-la<span class="w"> </span>work/
</span></code></pre></div> <h3 id="exercise-3-understanding-channels-20-minutes">Exercise 3: Understanding Channels (20 minutes)<a class="headerlink" href="#exercise-3-understanding-channels-20-minutes" title="Permanent link">¶</a></h3> <p><strong>Objective</strong>: Learn different ways to create and manipulate channels</p> <p>Create <code>channel_examples.nf</code>:</p> <div class="language-text highlight"><pre><span></span><code><span id="__span-76-1"><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a>#!/usr/bin/env nextflow
</span><span id="__span-76-2"><a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a>
</span><span id="__span-76-3"><a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a>workflow {
</span><span id="__span-76-4"><a id="__codelineno-76-4" name="__codelineno-76-4" href="#__codelineno-76-4"></a>    // Channel from file pairs
</span><span id="__span-76-5"><a id="__codelineno-76-5" name="__codelineno-76-5" href="#__codelineno-76-5"></a>    reads_ch = Channel.fromFilePairs("data/*_R{1,2}.fastq.gz")
</span><span id="__span-76-6"><a id="__codelineno-76-6" name="__codelineno-76-6" href="#__codelineno-76-6"></a>    reads_ch.view { sample, files -&gt; "Sample: $sample, Files: $files" }
</span><span id="__span-76-7"><a id="__codelineno-76-7" name="__codelineno-76-7" href="#__codelineno-76-7"></a>
</span><span id="__span-76-8"><a id="__codelineno-76-8" name="__codelineno-76-8" href="#__codelineno-76-8"></a>    // Channel from list
</span><span id="__span-76-9"><a id="__codelineno-76-9" name="__codelineno-76-9" href="#__codelineno-76-9"></a>    samples_ch = Channel.from(['sample1', 'sample2', 'sample3'])
</span><span id="__span-76-10"><a id="__codelineno-76-10" name="__codelineno-76-10" href="#__codelineno-76-10"></a>    samples_ch.view { "Processing: $it" }
</span><span id="__span-76-11"><a id="__codelineno-76-11" name="__codelineno-76-11" href="#__codelineno-76-11"></a>
</span><span id="__span-76-12"><a id="__codelineno-76-12" name="__codelineno-76-12" href="#__codelineno-76-12"></a>    // Channel from path pattern
</span><span id="__span-76-13"><a id="__codelineno-76-13" name="__codelineno-76-13" href="#__codelineno-76-13"></a>    ref_ch = Channel.fromPath("*.fasta")
</span><span id="__span-76-14"><a id="__codelineno-76-14" name="__codelineno-76-14" href="#__codelineno-76-14"></a>    ref_ch.view { "Reference: $it" }
</span><span id="__span-76-15"><a id="__codelineno-76-15" name="__codelineno-76-15" href="#__codelineno-76-15"></a>}
</span></code></pre></div> <p>Save your pipeline script for future use and documentation.</p> <h2 id="key-concepts-summary">Key Concepts Summary<a class="headerlink" href="#key-concepts-summary" title="Permanent link">¶</a></h2> <h3 id="nextflow-core-principles">Nextflow Core Principles<a class="headerlink" href="#nextflow-core-principles" title="Permanent link">¶</a></h3> <ul> <li><strong>Dataflow Programming</strong>: Data flows through processes via channels</li> <li><strong>Parallelization</strong>: Automatic parallel execution of independent tasks</li> <li><strong>Portability</strong>: Same code runs on laptop, HPC, or cloud</li> <li><strong>Reproducibility</strong>: Consistent results across different environments</li> </ul> <h3 id="pipeline-development-best-practices">Pipeline Development Best Practices<a class="headerlink" href="#pipeline-development-best-practices" title="Permanent link">¶</a></h3> <ul> <li><strong>Start simple</strong>: Begin with basic processes and add complexity gradually</li> <li><strong>Test frequently</strong>: Run your pipeline with small datasets during development</li> <li><strong>Use containers</strong>: Ensure reproducible software environments</li> <li><strong>Document clearly</strong>: Add comments and meaningful process names</li> <li><strong>Handle errors</strong>: Plan for failures and edge cases</li> </ul> <h3 id="nextflow-workflow-patterns">Nextflow Workflow Patterns<a class="headerlink" href="#nextflow-workflow-patterns" title="Permanent link">¶</a></h3> <div class="language-text highlight"><pre><span></span><code><span id="__span-77-1"><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a>Input Data → Process 1 → Process 2 → Process 3 → Final Results
</span><span id="__span-77-2"><a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a>     ↓           ↓           ↓           ↓           ↓
</span><span id="__span-77-3"><a id="__codelineno-77-3" name="__codelineno-77-3" href="#__codelineno-77-3"></a>  Channel    Channel     Channel     Channel    Published
</span><span id="__span-77-4"><a id="__codelineno-77-4" name="__codelineno-77-4" href="#__codelineno-77-4"></a> Creation   Transform   Transform   Transform    Output
</span></code></pre></div> <h3 id="configuration-best-practices">Configuration Best Practices<a class="headerlink" href="#configuration-best-practices" title="Permanent link">¶</a></h3> <ul> <li>Use profiles for different execution environments</li> <li>Parameterize your pipelines for flexibility</li> <li>Set appropriate resource requirements</li> <li>Enable reporting and monitoring features</li> </ul> <h2 id="assessment-activities">Assessment Activities<a class="headerlink" href="#assessment-activities" title="Permanent link">¶</a></h2> <h3 id="individual-tasks">Individual Tasks<a class="headerlink" href="#individual-tasks" title="Permanent link">¶</a></h3> <ul> <li>Successfully complete and run all three Nextflow exercises</li> <li>Understand the structure of Nextflow work directories</li> <li>Create and modify basic Nextflow processes</li> <li>Use channels to manage data flow between processes</li> <li>Configure pipeline parameters and execution profiles</li> </ul> <h3 id="group-discussion">Group Discussion<a class="headerlink" href="#group-discussion" title="Permanent link">¶</a></h3> <ul> <li>Share pipeline design approaches and solutions</li> <li>Discuss common challenges and troubleshooting strategies</li> <li>Review different ways to structure Nextflow processes</li> <li>Compare execution results and performance observations</li> </ul> <h2 id="resources">Resources<a class="headerlink" href="#resources" title="Permanent link">¶</a></h2> <h3 id="nextflow-resources">Nextflow Resources<a class="headerlink" href="#nextflow-resources" title="Permanent link">¶</a></h3> <ul> <li><a href="https://www.nextflow.io/docs/latest/">Nextflow Documentation</a> - Official comprehensive documentation</li> <li><a href="https://nextflow-io.github.io/patterns/">Nextflow Patterns</a> - Common workflow patterns and best practices</li> <li><a href="https://nf-co.re/">nf-core pipelines</a> - Community-curated bioinformatics pipelines</li> <li><a href="https://training.nextflow.io/">Nextflow Training</a> - Official training materials and workshops</li> </ul> <h3 id="community-and-support">Community and Support<a class="headerlink" href="#community-and-support" title="Permanent link">¶</a></h3> <ul> <li><a href="https://nextflow.slack.com/">Nextflow Slack</a> - Community discussion and support</li> <li><a href="https://nfcore.slack.com/">nf-core Slack</a> - Pipeline-specific discussions</li> <li><a href="https://github.com/nextflow-io/nextflow">Nextflow GitHub</a> - Source code and issue tracking</li> </ul> <h2 id="looking-ahead">Looking Ahead<a class="headerlink" href="#looking-ahead" title="Permanent link">¶</a></h2> <p><strong>Day 7 Preview</strong>: Applied Genomics &amp; Advanced Topics</p> <h3 id="professional-development">Professional Development<a class="headerlink" href="#professional-development" title="Permanent link">¶</a></h3> <ul> <li>Git and GitHub for pipeline version control and collaboration</li> <li>Professional workflow development and team collaboration</li> </ul> <h3 id="applied-genomics">Applied Genomics<a class="headerlink" href="#applied-genomics" title="Permanent link">¶</a></h3> <ul> <li><strong>MTB analysis pipeline development</strong> - Real-world tuberculosis genomics workflows</li> <li><strong>Genome assembly workflows</strong> - Complete bacterial genome assembly pipelines</li> <li><strong>Pathogen surveillance</strong> - Outbreak investigation and AMR detection pipelines</li> </ul> <h3 id="advanced-nextflow">Advanced Nextflow<a class="headerlink" href="#advanced-nextflow" title="Permanent link">¶</a></h3> <ul> <li><strong>Advanced Nextflow features</strong> - Complex workflow patterns and optimization</li> <li><strong>Pipeline deployment</strong> - HPC, cloud, and container deployment strategies</li> <li><strong>Performance optimization</strong> - Resource management and scaling techniques</li> <li><strong>Best practices</strong> - Production-ready pipeline development</li> </ul> <h3 id="exercise-4-building-a-qc-process-30-minutes">Exercise 4: Building a QC Process (30 minutes)<a class="headerlink" href="#exercise-4-building-a-qc-process-30-minutes" title="Permanent link">¶</a></h3> <p><strong>Objective</strong>: Create a real bioinformatics process</p> <p>Create <code>fastqc_pipeline.nf</code>:</p> <div class="language-text highlight"><pre><span></span><code><span id="__span-78-1"><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a>#!/usr/bin/env nextflow
</span><span id="__span-78-2"><a id="__codelineno-78-2" name="__codelineno-78-2" href="#__codelineno-78-2"></a>
</span><span id="__span-78-3"><a id="__codelineno-78-3" name="__codelineno-78-3" href="#__codelineno-78-3"></a>// Parameters
</span><span id="__span-78-4"><a id="__codelineno-78-4" name="__codelineno-78-4" href="#__codelineno-78-4"></a>params.reads = "data/*_R{1,2}.fastq.gz"
</span><span id="__span-78-5"><a id="__codelineno-78-5" name="__codelineno-78-5" href="#__codelineno-78-5"></a>params.outdir = "results"
</span><span id="__span-78-6"><a id="__codelineno-78-6" name="__codelineno-78-6" href="#__codelineno-78-6"></a>
</span><span id="__span-78-7"><a id="__codelineno-78-7" name="__codelineno-78-7" href="#__codelineno-78-7"></a>// Main workflow
</span><span id="__span-78-8"><a id="__codelineno-78-8" name="__codelineno-78-8" href="#__codelineno-78-8"></a>workflow {
</span><span id="__span-78-9"><a id="__codelineno-78-9" name="__codelineno-78-9" href="#__codelineno-78-9"></a>    // Create channel from paired reads
</span><span id="__span-78-10"><a id="__codelineno-78-10" name="__codelineno-78-10" href="#__codelineno-78-10"></a>    reads_ch = Channel.fromFilePairs(params.reads, checkIfExists: true)
</span><span id="__span-78-11"><a id="__codelineno-78-11" name="__codelineno-78-11" href="#__codelineno-78-11"></a>
</span><span id="__span-78-12"><a id="__codelineno-78-12" name="__codelineno-78-12" href="#__codelineno-78-12"></a>    // Run FastQC
</span><span id="__span-78-13"><a id="__codelineno-78-13" name="__codelineno-78-13" href="#__codelineno-78-13"></a>    FASTQC(reads_ch)
</span><span id="__span-78-14"><a id="__codelineno-78-14" name="__codelineno-78-14" href="#__codelineno-78-14"></a>
</span><span id="__span-78-15"><a id="__codelineno-78-15" name="__codelineno-78-15" href="#__codelineno-78-15"></a>    // View results
</span><span id="__span-78-16"><a id="__codelineno-78-16" name="__codelineno-78-16" href="#__codelineno-78-16"></a>    FASTQC.out.view { sample, reports -&gt;
</span><span id="__span-78-17"><a id="__codelineno-78-17" name="__codelineno-78-17" href="#__codelineno-78-17"></a>        "FastQC completed for $sample: $reports"
</span><span id="__span-78-18"><a id="__codelineno-78-18" name="__codelineno-78-18" href="#__codelineno-78-18"></a>    }
</span><span id="__span-78-19"><a id="__codelineno-78-19" name="__codelineno-78-19" href="#__codelineno-78-19"></a>}
</span><span id="__span-78-20"><a id="__codelineno-78-20" name="__codelineno-78-20" href="#__codelineno-78-20"></a>
</span><span id="__span-78-21"><a id="__codelineno-78-21" name="__codelineno-78-21" href="#__codelineno-78-21"></a>// FastQC process
</span><span id="__span-78-22"><a id="__codelineno-78-22" name="__codelineno-78-22" href="#__codelineno-78-22"></a>process FASTQC {
</span><span id="__span-78-23"><a id="__codelineno-78-23" name="__codelineno-78-23" href="#__codelineno-78-23"></a>    tag "$sample_id"
</span><span id="__span-78-24"><a id="__codelineno-78-24" name="__codelineno-78-24" href="#__codelineno-78-24"></a>    container 'biocontainers/fastqc:v0.11.9_cv8'
</span><span id="__span-78-25"><a id="__codelineno-78-25" name="__codelineno-78-25" href="#__codelineno-78-25"></a>    publishDir "${params.outdir}/fastqc", mode: 'copy'
</span><span id="__span-78-26"><a id="__codelineno-78-26" name="__codelineno-78-26" href="#__codelineno-78-26"></a>
</span><span id="__span-78-27"><a id="__codelineno-78-27" name="__codelineno-78-27" href="#__codelineno-78-27"></a>    input:
</span><span id="__span-78-28"><a id="__codelineno-78-28" name="__codelineno-78-28" href="#__codelineno-78-28"></a>    tuple val(sample_id), path(reads)
</span><span id="__span-78-29"><a id="__codelineno-78-29" name="__codelineno-78-29" href="#__codelineno-78-29"></a>
</span><span id="__span-78-30"><a id="__codelineno-78-30" name="__codelineno-78-30" href="#__codelineno-78-30"></a>    output:
</span><span id="__span-78-31"><a id="__codelineno-78-31" name="__codelineno-78-31" href="#__codelineno-78-31"></a>    tuple val(sample_id), path("*_fastqc.{html,zip}")
</span><span id="__span-78-32"><a id="__codelineno-78-32" name="__codelineno-78-32" href="#__codelineno-78-32"></a>
</span><span id="__span-78-33"><a id="__codelineno-78-33" name="__codelineno-78-33" href="#__codelineno-78-33"></a>    script:
</span><span id="__span-78-34"><a id="__codelineno-78-34" name="__codelineno-78-34" href="#__codelineno-78-34"></a>    """
</span><span id="__span-78-35"><a id="__codelineno-78-35" name="__codelineno-78-35" href="#__codelineno-78-35"></a>    fastqc ${reads}
</span><span id="__span-78-36"><a id="__codelineno-78-36" name="__codelineno-78-36" href="#__codelineno-78-36"></a>    """
</span><span id="__span-78-37"><a id="__codelineno-78-37" name="__codelineno-78-37" href="#__codelineno-78-37"></a>}
</span></code></pre></div> <p><strong>Test the pipeline:</strong></p> <div class="language-bash highlight"><pre><span></span><code><span id="__span-79-1"><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="c1"># Create test data</span>
</span><span id="__span-79-2"><a id="__codelineno-79-2" name="__codelineno-79-2" href="#__codelineno-79-2"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>data
</span><span id="__span-79-3"><a id="__codelineno-79-3" name="__codelineno-79-3" href="#__codelineno-79-3"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">"@read1\nACGTACGT\n+\nIIIIIIII"</span><span class="w"> </span>&gt;<span class="w"> </span>data/sample1_R1.fastq
</span><span id="__span-79-4"><a id="__codelineno-79-4" name="__codelineno-79-4" href="#__codelineno-79-4"></a><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">"@read1\nTGCATGCA\n+\nIIIIIIII"</span><span class="w"> </span>&gt;<span class="w"> </span>data/sample1_R2.fastq
</span><span id="__span-79-5"><a id="__codelineno-79-5" name="__codelineno-79-5" href="#__codelineno-79-5"></a>
</span><span id="__span-79-6"><a id="__codelineno-79-6" name="__codelineno-79-6" href="#__codelineno-79-6"></a><span class="c1"># Run pipeline</span>
</span><span id="__span-79-7"><a id="__codelineno-79-7" name="__codelineno-79-7" href="#__codelineno-79-7"></a>nextflow<span class="w"> </span>run<span class="w"> </span>fastqc_pipeline.nf
</span><span id="__span-79-8"><a id="__codelineno-79-8" name="__codelineno-79-8" href="#__codelineno-79-8"></a>
</span><span id="__span-79-9"><a id="__codelineno-79-9" name="__codelineno-79-9" href="#__codelineno-79-9"></a><span class="c1"># Check results</span>
</span><span id="__span-79-10"><a id="__codelineno-79-10" name="__codelineno-79-10" href="#__codelineno-79-10"></a>ls<span class="w"> </span>-la<span class="w"> </span>results/fastqc/
</span></code></pre></div> <h2 id="troubleshooting-guide">Troubleshooting Guide<a class="headerlink" href="#troubleshooting-guide" title="Permanent link">¶</a></h2> <h3 id="installation-issues">Installation Issues<a class="headerlink" href="#installation-issues" title="Permanent link">¶</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id="__span-80-1"><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="c1"># Java version problems</span>
</span><span id="__span-80-2"><a id="__codelineno-80-2" name="__codelineno-80-2" href="#__codelineno-80-2"></a>java<span class="w"> </span>-version<span class="w">  </span><span class="c1"># Must be 11 or later</span>
</span><span id="__span-80-3"><a id="__codelineno-80-3" name="__codelineno-80-3" href="#__codelineno-80-3"></a>
</span><span id="__span-80-4"><a id="__codelineno-80-4" name="__codelineno-80-4" href="#__codelineno-80-4"></a><span class="c1"># Nextflow not found</span>
</span><span id="__span-80-5"><a id="__codelineno-80-5" name="__codelineno-80-5" href="#__codelineno-80-5"></a><span class="nb">echo</span><span class="w"> </span><span class="nv">$PATH</span>
</span><span id="__span-80-6"><a id="__codelineno-80-6" name="__codelineno-80-6" href="#__codelineno-80-6"></a>which<span class="w"> </span>nextflow
</span><span id="__span-80-7"><a id="__codelineno-80-7" name="__codelineno-80-7" href="#__codelineno-80-7"></a>
</span><span id="__span-80-8"><a id="__codelineno-80-8" name="__codelineno-80-8" href="#__codelineno-80-8"></a><span class="c1"># Permission issues</span>
</span><span id="__span-80-9"><a id="__codelineno-80-9" name="__codelineno-80-9" href="#__codelineno-80-9"></a>chmod<span class="w"> </span>+x<span class="w"> </span>nextflow
</span></code></pre></div> <h3 id="pipeline-debugging">Pipeline Debugging<a class="headerlink" href="#pipeline-debugging" title="Permanent link">¶</a></h3> <div class="language-bash highlight"><pre><span></span><code><span id="__span-81-1"><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a><span class="c1"># Verbose output</span>
</span><span id="__span-81-2"><a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a>nextflow<span class="w"> </span>run<span class="w"> </span>pipeline.nf<span class="w"> </span>-with-trace<span class="w"> </span>-with-report<span class="w"> </span>-with-timeline
</span><span id="__span-81-3"><a id="__codelineno-81-3" name="__codelineno-81-3" href="#__codelineno-81-3"></a>
</span><span id="__span-81-4"><a id="__codelineno-81-4" name="__codelineno-81-4" href="#__codelineno-81-4"></a><span class="c1"># Check work directory</span>
</span><span id="__span-81-5"><a id="__codelineno-81-5" name="__codelineno-81-5" href="#__codelineno-81-5"></a>ls<span class="w"> </span>-la<span class="w"> </span>work/
</span><span id="__span-81-6"><a id="__codelineno-81-6" name="__codelineno-81-6" href="#__codelineno-81-6"></a>
</span><span id="__span-81-7"><a id="__codelineno-81-7" name="__codelineno-81-7" href="#__codelineno-81-7"></a><span class="c1"># Resume from failure</span>
</span><span id="__span-81-8"><a id="__codelineno-81-8" name="__codelineno-81-8" href="#__codelineno-81-8"></a>nextflow<span class="w"> </span>run<span class="w"> </span>pipeline.nf<span class="w"> </span>-resume
</span></code></pre></div> <hr> <p><strong>Key Learning Outcome</strong>: Understanding workflow management fundamentals and Nextflow core concepts provides the foundation for building reproducible, scalable bioinformatics pipelines.</p> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type="button" class="md-top md-icon" data-md-component="top" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> Back to top </button> </main> <footer class="md-footer"> <nav class="md-footer__inner md-grid" aria-label="Footer"> <a href="../day5/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Day 5 - Nextflow Pipeline Development"> <div class="md-footer__button md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </div> <div class="md-footer__title"> <span class="md-footer__direction"> Previous </span> <div class="md-ellipsis"> Day 5 - Nextflow Pipeline Development </div> </div> </a> <a href="../day7/" class="md-footer__link md-footer__link--next" aria-label="Next: Day 7 - Metagenomic profiling"> <div class="md-footer__title"> <span class="md-footer__direction"> Next </span> <div class="md-ellipsis"> Day 7 - Metagenomic profiling </div> </div> <div class="md-footer__button md-icon"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-copyright"> <div class="md-copyright__highlight"> Copyright © 2024 CIDRI-Africa </div> Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener"> Material for MkDocs </a> </div> <div class="md-social"> <a href="https://github.com/CIDRI-Africa" target="_blank" rel="noopener" title="github.com" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg> </a> <a href="https://twitter.com/CIDRIAfrica" target="_blank" rel="noopener" title="twitter.com" class="md-social__link"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"></path></svg> </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <div class="md-progress" data-md-component="progress" role="progressbar"></div> <script id="__config" type="application/json">{"base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.tooltips", "header.autohide", "navigation.expand", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow", "toc.integrate"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script> <script src="../../javascripts/extra.js"></script> <script src="../../javascripts/mathjax.js"></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(()=>{ lightbox.reload(); });
</script></body></html>